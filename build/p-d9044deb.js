import{o as t,i as n,c as r}from"./p-c9444cc0.js";import{n as e}from"./p-6cf4a597.js";import{S as o}from"./p-4c181b5f.js";class s extends o{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function c(o){return t(((t,s)=>{n(o).subscribe(r(s,(()=>s.complete()),e)),!s.closed&&t.subscribe(s)}))}function u(t,n){t[n]&&(t[n].next(),t[n].complete(),t[n]=null)}function i({componentDestroyHandlerName:t}){return function(n){const r={untilDestroyed:r=>{return r.pipe((e=n,s=t,function(t){const n=function(t){return Symbol(`__destroy__${t}`)}(s),r=function(t,n){return t[n]||(t[n]=new o),t[n]}(e,n);return function(t,n,r){const e=t[n];t[n]=function(){e&&e.apply(this,arguments),u(this,r),t[n]=e}}(e,s,n),t.pipe(c(r))}));var e,s},justSubscribe(...t){t.forEach((t=>{r.untilDestroyed(t).subscribe()}))}};return r}}function a(t,{once:n}={once:!1}){const r=new o;return{$:r.asObservable(),handler:function(e){let o;o=t?t(e):e,r.next(o),n&&r.complete()}}}function f({once:t}={once:!1}){return a((()=>{}),{once:t})}function l(t){const n=new s(t);return{update(t){let r;r="function"!=typeof t?()=>t:t,n.next(Object.assign(Object.assign({},n.value),r(n.value)))},get:()=>n.value,asObservable:()=>n.asObservable()}}export{f as a,a as b,l as c,i,c as t}