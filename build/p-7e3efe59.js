import{c as t}from"./p-6cf4a597.js";import{b as e,i as o}from"./p-c1b151ee.js";import{o as n,c as r,i as s}from"./p-14a93dff.js";import{e as i}from"./p-e88f731b.js";const l=t((t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}));function u(t,e){const o="object"==typeof e;return new Promise(((n,r)=>{let s,i=!1;t.subscribe({next:t=>{s=t,i=!0},error:r,complete:()=>{i?n(s):o?n(e.defaultValue):r(new l)}})}))}const c=t((t=>function(e=null){t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=e}));function a(t,l){const{first:u,each:c,with:a=f,scheduler:m=(null!=l?l:e),meta:p=null}=o(t)?{first:t}:"number"==typeof t?{each:t}:t;if(null==u&&null==c)throw new TypeError("No timeout provided.");return n(((t,e)=>{let o,n,l=null,f=0;const h=t=>{n=i(e,m,(()=>{try{o.unsubscribe(),s(a({meta:p,lastValue:l,seen:f})).subscribe(e)}catch(t){e.error(t)}}),t)};o=t.subscribe(r(e,(t=>{null==n||n.unsubscribe(),f++,e.next(l=t),c>0&&h(c)}),void 0,void 0,(()=>{(null==n?void 0:n.closed)||null==n||n.unsubscribe(),l=null}))),!f&&h(null!=u?"number"==typeof u?u:+u-m.now():c)}))}function f(t){throw new c(t)}export{u as l,a as t}