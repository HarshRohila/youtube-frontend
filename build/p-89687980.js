import{k as r,i as n}from"./p-3b7085e5.js";import{O as e,d as t}from"./p-9f34646c.js";import{m as o}from"./p-6ad5c5be.js";import{m as i}from"./p-674acdd7.js";const s=["addListener","removeListener"],f=["addEventListener","removeEventListener"],a=["on","off"];function u(c,d,p,v){if(t(p)&&(v=p,p=void 0),v)return u(c,d,p).pipe(i(v));const[j,L]=function(r){return t(r.addEventListener)&&t(r.removeEventListener)}(c)?f.map((r=>n=>c[r](d,n,p))):function(r){return t(r.addListener)&&t(r.removeListener)}(c)?s.map(m(c,d)):function(r){return t(r.on)&&t(r.off)}(c)?a.map(m(c,d)):[];if(!j&&r(c))return o((r=>u(r,d,p)))(n(c));if(!j)throw new TypeError("Invalid event target");return new e((r=>{const n=(...n)=>r.next(1<n.length?n:n[0]);return j(n),()=>L(n)}))}function m(r,n){return e=>t=>r[e](n,t)}export{u as f}