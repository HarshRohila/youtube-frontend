import{k as n,i as r,l as t}from"./p-7b8d1737.js";import{O as e,d as o}from"./p-5304e58c.js";import{c as i,i as s,f}from"./p-0f8eda08.js";import{m as u}from"./p-ef6ec345.js";const a=["addListener","removeListener"],c=["addEventListener","removeEventListener"],m=["on","off"];function d(t,s,f,v){if(o(f)&&(v=f,f=void 0),v)return d(t,s,f).pipe(u(v));const[l,j]=function(n){return o(n.addEventListener)&&o(n.removeEventListener)}(t)?c.map((n=>r=>t[n](s,r,f))):function(n){return o(n.addListener)&&o(n.removeListener)}(t)?a.map(p(t,s)):function(n){return o(n.on)&&o(n.off)}(t)?m.map(p(t,s)):[];if(!l&&n(t))return i((n=>d(n,s,f)))(r(t));if(!l)throw new TypeError("Invalid event target");return new e((n=>{const r=(...r)=>n.next(1<r.length?r:r[0]);return l(r),()=>j(r)}))}function p(n,r){return t=>e=>n[t](r,e)}function v(n=0,r,o=f){let i=-1;return null!=r&&(t(r)?o=r:i=r),new e((r=>{let t=s(n)?+n-o.now():n;t<0&&(t=0);let e=0;return o.schedule((function(){r.closed||(r.next(e++),0<=i?this.schedule(void 0,i):r.complete())}),t)}))}export{d as f,v as t}