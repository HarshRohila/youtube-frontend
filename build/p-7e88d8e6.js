import{c as t,O as r,e as n,E as e,S as i,a as o,i as u,o as s,b as c,d as f,f as a,r as l,g as v,h as d,j as h,k as b,l as p,n as m,p as y,m as w,q as g,s as j,t as O,u as S,v as E}from"./p-af753339.js";import{C as A}from"./p-54677159.js";const x=t((t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}));class P extends r{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new C(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new x}next(t){n((()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}}))}error(t){n((()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}}))}complete(){n((()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}}))}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:n,observers:u}=this;return r||n?e:(this.currentObservers=null,u.push(t),new i((()=>{this.currentObservers=null,o(u,t)})))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:n,isStopped:e}=this;r?t.error(n):e&&t.complete()}asObservable(){const t=new r;return t.source=this,t}}P.create=(t,r)=>new C(t,r);class C extends P{constructor(t,r){super(),this.destination=t,this.source=r}next(t){var r,n;null===(n=null===(r=this.destination)||void 0===r?void 0:r.next)||void 0===n||n.call(r,t)}error(t){var r,n;null===(n=null===(r=this.destination)||void 0===r?void 0:r.error)||void 0===n||n.call(r,t)}complete(){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===r||r.call(t)}_subscribe(t){var r,n;return null!==(n=null===(r=this.source)||void 0===r?void 0:r.subscribe(t))&&void 0!==n?n:e}}const I={now:()=>(I.delegate||Date).now(),delegate:void 0};class _ extends i{constructor(t,r){super()}schedule(t,r=0){return this}}const $={setInterval(t,r,...n){const{delegate:e}=$;return(null==e?void 0:e.setInterval)?e.setInterval(t,r,...n):setInterval(t,r,...n)},clearInterval(t){const{delegate:r}=$;return((null==r?void 0:r.clearInterval)||clearInterval)(t)},delegate:void 0};class R extends _{constructor(t,r){super(t,r),this.scheduler=t,this.work=r,this.pending=!1}schedule(t,r=0){var n;if(this.closed)return this;this.state=t;const e=this.id,i=this.scheduler;return null!=e&&(this.id=this.recycleAsyncId(i,e,r)),this.pending=!0,this.delay=r,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,r),this}requestAsyncId(t,r,n=0){return $.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,r,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return r;null!=r&&$.clearInterval(r)}execute(t,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,r);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,r){let n,e=!1;try{this.work(t)}catch(t){e=!0,n=t||new Error("Scheduled action threw falsy error")}if(e)return this.unsubscribe(),n}unsubscribe(){if(!this.closed){const{id:t,scheduler:r}=this,{actions:n}=r;this.work=this.state=this.scheduler=null,this.pending=!1,o(n,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,super.unsubscribe()}}}class k{constructor(t,r=k.now){this.schedulerActionCtor=t,this.now=r}schedule(t,r=0,n){return new this.schedulerActionCtor(this,t).schedule(n,r)}}k.now=I.now;class T extends k{constructor(t,r=k.now){super(t,r),this.actions=[],this._active=!1}flush(t){const{actions:r}=this;if(this._active)return void r.push(t);let n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=r.shift());if(this._active=!1,n){for(;t=r.shift();)t.unsubscribe();throw n}}}const N=new T(R),L=new class extends T{}(class extends R{constructor(t,r){super(t,r),this.scheduler=t,this.work=r}schedule(t,r=0){return r>0?super.schedule(t,r):(this.delay=r,this.state=t,this.scheduler.flush(this),this)}execute(t,r){return r>0||this.closed?super.execute(t,r):this._execute(t,r)}requestAsyncId(t,r,n=0){return null!=n&&n>0||null==n&&this.delay>0?super.requestAsyncId(t,r,n):(t.flush(this),0)}});function M(t){return t[t.length-1]}function q(t){return(r=M(t))&&u(r.schedule)?t.pop():void 0;var r}function D(t,r,n,e=0,i=!1){const o=r.schedule((function(){n(),i?t.add(this.schedule(null,e)):this.unsubscribe()}),e);if(t.add(o),!i)return o}function F(t,r=0){return s(((n,e)=>{n.subscribe(c(e,(n=>D(e,t,(()=>e.next(n)),r)),(()=>D(e,t,(()=>e.complete()),r)),(n=>D(e,t,(()=>e.error(n)),r))))}))}function B(t,r=0){return s(((n,e)=>{e.add(t.schedule((()=>n.subscribe(e)),r))}))}function K(t,n){if(!t)throw new Error("Iterable cannot be null");return new r((r=>{D(r,n,(()=>{const e=t[Symbol.asyncIterator]();D(r,n,(()=>{e.next().then((t=>{t.done?r.complete():r.next(t.value)}))}),0,!0)}))}))}function U(t,n){return n?function(t,n){if(null!=t){if(v(t))return function(t,r){return f(t).pipe(B(r),F(r))}(t,n);if(d(t))return function(t,n){return new r((r=>{let e=0;return n.schedule((function(){e===t.length?r.complete():(r.next(t[e++]),r.closed||this.schedule())}))}))}(t,n);if(h(t))return function(t,r){return f(t).pipe(B(r),F(r))}(t,n);if(b(t))return K(t,n);if(p(t))return function(t,n){return new r((r=>{let e;return D(r,n,(()=>{e=t[a](),D(r,n,(()=>{let t,n;try{({value:t,done:n}=e.next())}catch(t){return void r.error(t)}n?r.complete():r.next(t)}),0,!0)})),()=>u(null==e?void 0:e.return)&&e.return()}))}(t,n);if(m(t))return function(t,r){return K(l(t),r)}(t,n)}throw y(t)}(t,n):f(t)}function V(...t){return U(t,q(t))}function W(t,r,n=1/0){return u(r)?W(((n,e)=>w(((t,i)=>r(n,t,e,i)))(f(t(n,e)))),n):("number"==typeof r&&(n=r),s(((r,e)=>function(t,r,n,e){const i=[];let o=0,u=0,s=!1;const a=()=>{!s||i.length||o||r.complete()},l=t=>o<e?v(t):i.push(t),v=t=>{o++;let s=!1;f(n(t,u++)).subscribe(c(r,(t=>{r.next(t)}),(()=>{s=!0}),void 0,(()=>{if(s)try{for(o--;i.length&&o<e;){const t=i.shift();v(t)}a()}catch(t){r.error(t)}})))};return t.subscribe(c(r,l,(()=>{s=!0,a()}))),()=>{}}(r,e,t,n))))}function Y(t=1/0){return W(g,t)}function z(...t){return Y(1)(U(t,q(t)))}function J(...t){const r=q(t),n=function(t){return"number"==typeof M(t)?t.pop():1/0}(t),e=t;return e.length?1===e.length?f(e[0]):Y(n)(U(e,r)):j}function X(t,r){return s(((n,e)=>{let i=0;n.subscribe(c(e,(n=>t.call(r,n,i++)&&e.next(n))))}))}function G(t){return s(((r,n)=>{let e,i=null,o=!1;i=r.subscribe(c(n,void 0,void 0,(u=>{e=f(t(u,G(t)(r))),i?(i.unsubscribe(),i=null,e.subscribe(n)):o=!0}))),o&&(i.unsubscribe(),i=null,e.subscribe(n))}))}function H(t,r){return s(((n,e)=>{let i=null,o=0,u=!1;const s=()=>u&&!i&&e.complete();n.subscribe(c(e,(n=>{null==i||i.unsubscribe();let u=0;const a=o++;f(t(n,a)).subscribe(i=c(e,(t=>e.next(r?r(n,t,a,u++):t)),(()=>{i=null,s()})))}),(()=>{u=!0,s()})))}))}function Q(t){return s(((r,n)=>{f(t).subscribe(c(n,(()=>n.complete()),O)),!n.closed&&r.subscribe(n)}))}function Z(t){for(var r=arguments.length,n=Array(r>1?r-1:0),e=1;e<r;e++)n[e-1]=arguments[e];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map((function(t){return"'"+t+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function tt(t){return!!t&&!!t[Ft]}function rt(t){var r;return!!t&&(function(t){if(!t||"object"!=typeof t)return!1;var r=Object.getPrototypeOf(t);if(null===r)return!0;var n=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Bt}(t)||Array.isArray(t)||!!t[Dt]||!!(null===(r=t.constructor)||void 0===r?void 0:r[Dt])||st(t)||ct(t))}function nt(t,r,n){void 0===n&&(n=!1),0===et(t)?(n?Object.keys:Kt)(t).forEach((function(e){n&&"symbol"==typeof e||r(e,t[e],t)})):t.forEach((function(n,e){return r(e,n,t)}))}function et(t){var r=t[Ft];return r?r.i>3?r.i-4:r.i:Array.isArray(t)?1:st(t)?2:ct(t)?3:0}function it(t,r){return 2===et(t)?t.has(r):Object.prototype.hasOwnProperty.call(t,r)}function ot(t,r,n){var e=et(t);2===e?t.set(r,n):3===e?t.add(n):t[r]=n}function ut(t,r){return t===r?0!==t||1/t==1/r:t!=t&&r!=r}function st(t){return Nt&&t instanceof Map}function ct(t){return Lt&&t instanceof Set}function ft(t){return t.o||t.t}function at(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var r=Ut(t);delete r[Ft];for(var n=Kt(r),e=0;e<n.length;e++){var i=n[e],o=r[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),r)}function lt(t,r){return void 0===r&&(r=!1),dt(t)||tt(t)||!rt(t)||(et(t)>1&&(t.set=t.add=t.clear=t.delete=vt),Object.freeze(t),r&&nt(t,(function(t,r){return lt(r,!0)}),!0)),t}function vt(){Z(2)}function dt(t){return null==t||"object"!=typeof t||Object.isFrozen(t)}function ht(t){var r=Vt[t];return r||Z(18,t),r}function bt(){return kt}function pt(t,r){r&&(ht("Patches"),t.u=[],t.s=[],t.v=r)}function mt(t){yt(t),t.p.forEach(gt),t.p=null}function yt(t){t===kt&&(kt=t.l)}function wt(t){return kt={p:[],l:kt,h:t,m:!0,_:0}}function gt(t){var r=t[Ft];0===r.i||1===r.i?r.j():r.g=!0}function jt(t,r){r._=r.p.length;var n=r.p[0],e=void 0!==t&&t!==n;return r.h.O||ht("ES5").S(r,t,e),e?(n[Ft].P&&(mt(r),Z(4)),rt(t)&&(t=Ot(r,t),r.l||Et(r,t)),r.u&&ht("Patches").M(n[Ft].t,t,r.u,r.s)):t=Ot(r,n,[]),mt(r),r.u&&r.v(r.u,r.s),t!==qt?t:void 0}function Ot(t,r,n){if(dt(r))return r;var e=r[Ft];if(!e)return nt(r,(function(i,o){return St(t,e,r,i,o,n)}),!0),r;if(e.A!==t)return r;if(!e.P)return Et(t,e.t,!0),e.t;if(!e.I){e.I=!0,e.A._--;var i=4===e.i||5===e.i?e.o=at(e.k):e.o,o=i,u=!1;3===e.i&&(o=new Set(i),i.clear(),u=!0),nt(o,(function(r,o){return St(t,e,i,r,o,n,u)})),Et(t,i,!1),n&&t.u&&ht("Patches").N(e,n,t.u,t.s)}return e.o}function St(t,r,n,e,i,o,u){if(tt(i)){var s=Ot(t,i,o&&r&&3!==r.i&&!it(r.R,e)?o.concat(e):void 0);if(ot(n,e,s),!tt(s))return;t.m=!1}else u&&n.add(i);if(rt(i)&&!dt(i)){if(!t.h.D&&t._<1)return;Ot(t,i),r&&r.A.l||Et(t,i)}}function Et(t,r,n){void 0===n&&(n=!1),!t.l&&t.h.D&&t.m&&lt(r,n)}function At(t,r){var n=t[Ft];return(n?ft(n):t)[r]}function xt(t,r){if(r in t)for(var n=Object.getPrototypeOf(t);n;){var e=Object.getOwnPropertyDescriptor(n,r);if(e)return e;n=Object.getPrototypeOf(n)}}function Pt(t){t.P||(t.P=!0,t.l&&Pt(t.l))}function Ct(t){t.o||(t.o=at(t.t))}function It(t,r,n){var e=st(r)?ht("MapSet").F(r,n):ct(r)?ht("MapSet").T(r,n):t.O?function(t,r){var n=Array.isArray(t),e={i:n?1:0,A:r?r.A:bt(),P:!1,I:!1,R:{},l:r,t,k:null,o:null,j:null,C:!1},i=e,o=Wt;n&&(i=[e],o=Yt);var u=Proxy.revocable(i,o),s=u.revoke,c=u.proxy;return e.k=c,e.j=s,c}(r,n):ht("ES5").J(r,n);return(n?n.A:bt()).p.push(e),e}function _t(t){return tt(t)||Z(22,t),function t(r){if(!rt(r))return r;var n,e=r[Ft],i=et(r);if(e){if(!e.P&&(e.i<4||!ht("ES5").K(e)))return e.t;e.I=!0,n=$t(r,i),e.I=!1}else n=$t(r,i);return nt(n,(function(r,i){e&&function(t,r){return 2===et(t)?t.get(r):t[r]}(e.t,r)===i||ot(n,r,t(i))})),3===i?new Set(n):n}(t)}function $t(t,r){switch(r){case 2:return new Map(t);case 3:return Array.from(t)}return at(t)}var Rt,kt,Tt="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Nt="undefined"!=typeof Map,Lt="undefined"!=typeof Set,Mt="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,qt=Tt?Symbol.for("immer-nothing"):((Rt={})["immer-nothing"]=!0,Rt),Dt=Tt?Symbol.for("immer-draftable"):"__$immer_draftable",Ft=Tt?Symbol.for("immer-state"):"__$immer_state",Bt=""+Object.prototype.constructor,Kt="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,Ut=Object.getOwnPropertyDescriptors||function(t){var r={};return Kt(t).forEach((function(n){r[n]=Object.getOwnPropertyDescriptor(t,n)})),r},Vt={},Wt={get:function(t,r){if(r===Ft)return t;var n=ft(t);if(!it(n,r))return function(t,r,n){var e,i=xt(r,n);return i?"value"in i?i.value:null===(e=i.get)||void 0===e?void 0:e.call(t.k):void 0}(t,n,r);var e=n[r];return t.I||!rt(e)?e:e===At(t.t,r)?(Ct(t),t.o[r]=It(t.A.h,e,t)):e},has:function(t,r){return r in ft(t)},ownKeys:function(t){return Reflect.ownKeys(ft(t))},set:function(t,r,n){var e=xt(ft(t),r);if(null==e?void 0:e.set)return e.set.call(t.k,n),!0;if(!t.P){var i=At(ft(t),r),o=null==i?void 0:i[Ft];if(o&&o.t===n)return t.o[r]=n,t.R[r]=!1,!0;if(ut(n,i)&&(void 0!==n||it(t.t,r)))return!0;Ct(t),Pt(t)}return t.o[r]===n&&(void 0!==n||r in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[r])||(t.o[r]=n,t.R[r]=!0),!0},deleteProperty:function(t,r){return void 0!==At(t.t,r)||r in t.t?(t.R[r]=!1,Ct(t),Pt(t)):delete t.R[r],t.o&&delete t.o[r],!0},getOwnPropertyDescriptor:function(t,r){var n=ft(t),e=Reflect.getOwnPropertyDescriptor(n,r);return e?{writable:!0,configurable:1!==t.i||"length"!==r,enumerable:e.enumerable,value:n[r]}:e},defineProperty:function(){Z(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Z(12)}},Yt={};nt(Wt,(function(t,r){Yt[t]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}})),Yt.deleteProperty=function(t,r){return Yt.set.call(this,t,r,void 0)},Yt.set=function(t,r,n){return Wt.set.call(this,t[0],r,n,t[0])};var zt=new(function(){function t(t){var r=this;this.O=Mt,this.D=!0,this.produce=function(t,n,e){if("function"==typeof t&&"function"!=typeof n){var i=n;n=t;var o=r;return function(t){var r=this;void 0===t&&(t=i);for(var e=arguments.length,u=Array(e>1?e-1:0),s=1;s<e;s++)u[s-1]=arguments[s];return o.produce(t,(function(t){var e;return(e=n).call.apply(e,[r,t].concat(u))}))}}var u;if("function"!=typeof n&&Z(6),void 0!==e&&"function"!=typeof e&&Z(7),rt(t)){var s=wt(r),c=It(r,t,void 0),f=!0;try{u=n(c),f=!1}finally{f?mt(s):yt(s)}return"undefined"!=typeof Promise&&u instanceof Promise?u.then((function(t){return pt(s,e),jt(t,s)}),(function(t){throw mt(s),t})):(pt(s,e),jt(u,s))}if(!t||"object"!=typeof t){if(void 0===(u=n(t))&&(u=t),u===qt&&(u=void 0),r.D&&lt(u,!0),e){var a=[],l=[];ht("Patches").M(t,u,a,l),e(a,l)}return u}Z(21,t)},this.produceWithPatches=function(t,n){if("function"==typeof t)return function(n){for(var e=arguments.length,i=Array(e>1?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];return r.produceWithPatches(n,(function(r){return t.apply(void 0,[r].concat(i))}))};var e,i,o=r.produce(t,n,(function(t,r){e=t,i=r}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(t){return[t,e,i]})):[o,e,i]},"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze)}var r=t.prototype;return r.createDraft=function(t){rt(t)||Z(8),tt(t)&&(t=_t(t));var r=wt(this),n=It(this,t,void 0);return n[Ft].C=!0,yt(r),n},r.finishDraft=function(t,r){var n=(t&&t[Ft]).A;return pt(n,r),jt(void 0,n)},r.setAutoFreeze=function(t){this.D=t},r.setUseProxies=function(t){t&&!Mt&&Z(20),this.O=t},r.applyPatches=function(t,r){var n;for(n=r.length-1;n>=0;n--){var e=r[n];if(0===e.path.length&&"replace"===e.op){t=e.value;break}}n>-1&&(r=r.slice(n+1));var i=ht("Patches").$;return tt(t)?i(t,r):this.produce(t,(function(t){return i(t,r)}))},t}()),Jt=zt.produce;function Xt(t){return(Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gt(t,r,n){return(r=function(t){var r=function(t,r){if("object"!==Xt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var e=n.call(t,r);if("object"!==Xt(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"===Xt(r)?r:String(r)}(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Ht(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);r&&(e=e.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),n.push.apply(n,e)}return n}function Qt(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?Ht(Object(n),!0).forEach((function(r){Gt(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}function Zt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}zt.produceWithPatches.bind(zt),zt.setAutoFreeze.bind(zt),zt.setUseProxies.bind(zt),zt.applyPatches.bind(zt),zt.createDraft.bind(zt),zt.finishDraft.bind(zt);var tr="function"==typeof Symbol&&Symbol.observable||"@@observable",rr=function(){return Math.random().toString(36).substring(7).split("").join(".")},nr={INIT:"@@redux/INIT"+rr(),REPLACE:"@@redux/REPLACE"+rr(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+rr()}};function er(t){if("object"!=typeof t||null===t)return!1;for(var r=t;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(t)===r}function ir(t,r,n){var e;if("function"==typeof r&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(Zt(0));if("function"==typeof r&&void 0===n&&(n=r,r=void 0),void 0!==n){if("function"!=typeof n)throw new Error(Zt(1));return n(ir)(t,r)}if("function"!=typeof t)throw new Error(Zt(2));var i=t,o=r,u=[],s=u,c=!1;function f(){s===u&&(s=u.slice())}function a(){if(c)throw new Error(Zt(3));return o}function l(t){if("function"!=typeof t)throw new Error(Zt(4));if(c)throw new Error(Zt(5));var r=!0;return f(),s.push(t),function(){if(r){if(c)throw new Error(Zt(6));r=!1,f();var n=s.indexOf(t);s.splice(n,1),u=null}}}function v(t){if(!er(t))throw new Error(Zt(7));if(void 0===t.type)throw new Error(Zt(8));if(c)throw new Error(Zt(9));try{c=!0,o=i(o,t)}finally{c=!1}for(var r=u=s,n=0;n<r.length;n++)(0,r[n])();return t}function d(t){if("function"!=typeof t)throw new Error(Zt(10));i=t,v({type:nr.REPLACE})}function h(){var t,r=l;return(t={subscribe:function(t){if("object"!=typeof t||null===t)throw new Error(Zt(11));function n(){t.next&&t.next(a())}return n(),{unsubscribe:r(n)}}})[tr]=function(){return this},t}return v({type:nr.INIT}),(e={dispatch:v,subscribe:l,getState:a,replaceReducer:d})[tr]=h,e}function or(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return 0===r.length?function(t){return t}:1===r.length?r[0]:r.reduce((function(t,r){return function(){return t(r.apply(void 0,arguments))}}))}function ur(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),e=function(){throw new Error(Zt(15))},i={getState:n.getState,dispatch:function(){return e.apply(void 0,arguments)}},o=r.map((function(t){return t(i)}));return e=or.apply(void 0,o)(n.dispatch),Qt(Qt({},n),{},{dispatch:e})}}}function sr(t){return function(r){var n=r.dispatch,e=r.getState;return function(r){return function(i){return"function"==typeof i?i(n,e,t):r(i)}}}}var cr=sr();cr.withExtraArgument=sr;var fr,ar=(fr=function(t,r){return(fr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])})(t,r)},function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}fr(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}),lr=function(t,r){for(var n=0,e=r.length,i=t.length;n<e;n++,i++)t[i]=r[n];return t},vr=Object.defineProperty,dr=Object.getOwnPropertySymbols,hr=Object.prototype.hasOwnProperty,br=Object.prototype.propertyIsEnumerable,pr=function(t,r,n){return r in t?vr(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n},mr=function(t,r){for(var n in r||(r={}))hr.call(r,n)&&pr(t,n,r[n]);if(dr)for(var e=0,i=dr(r);e<i.length;e++)br.call(r,n=i[e])&&pr(t,n,r[n]);return t},yr="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?or:or.apply(null,arguments)},wr=function(t){function r(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,r.prototype),i}return ar(r,t),Object.defineProperty(r,Symbol.species,{get:function(){return r},enumerable:!1,configurable:!0}),r.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.prototype.concat.apply(this,r)},r.prototype.prepend=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 1===t.length&&Array.isArray(t[0])?new(r.bind.apply(r,lr([void 0],t[0].concat(this)))):new(r.bind.apply(r,lr([void 0],t.concat(this))))},r}(Array),gr=function(t){function r(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,r.prototype),i}return ar(r,t),Object.defineProperty(r,Symbol.species,{get:function(){return r},enumerable:!1,configurable:!0}),r.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.prototype.concat.apply(this,r)},r.prototype.prepend=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 1===t.length&&Array.isArray(t[0])?new(r.bind.apply(r,lr([void 0],t[0].concat(this)))):new(r.bind.apply(r,lr([void 0],t.concat(this))))},r}(Array);function jr(t){return rt(t)?Jt(t,(function(){})):t}function Or(t,r){function n(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(r){var i=r.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return mr(mr({type:t,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:t,payload:n[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function Sr(t){var r,n={},e=[],i={addCase:function(t,r){var e="string"==typeof t?t:t.type;if(e in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[e]=r,i},addMatcher:function(t,r){return e.push({matcher:t,reducer:r}),i},addDefaultCase:function(t){return r=t,i}};return t(i),[n,e,r]}function Er(t){var r=t.name;if(!r)throw new Error("`name` is a required option for createSlice");var n,e="function"==typeof t.initialState?t.initialState:jr(t.initialState),i=t.reducers||{},o=Object.keys(i),u={},s={},c={};function f(){var r="function"==typeof t.extraReducers?Sr(t.extraReducers):[t.extraReducers],n=r[0],i=r[1],o=void 0===i?[]:i,u=r[2],c=void 0===u?void 0:u,f=mr(mr({},void 0===n?{}:n),s);return function(t,r,n){void 0===n&&(n=[]);var e,i=Sr(r),o=i[0],u=i[1],s=i[2];if(function(t){return"function"==typeof t}(t))e=function(){return jr(t())};else{var c=jr(t);e=function(){return c}}function f(t,r){void 0===t&&(t=e());var n=lr([o[r.type]],u.filter((function(t){return(0,t.matcher)(r)})).map((function(t){return t.reducer})));return 0===n.filter((function(t){return!!t})).length&&(n=[s]),n.reduce((function(t,n){if(n){var e;if(tt(t))return void 0===(e=n(t,r))?t:e;if(rt(t))return Jt(t,(function(t){return n(t,r)}));if(void 0===(e=n(t,r))){if(null===t)return t;throw Error("A case reducer on a non-draftable value must not return undefined")}return e}return t}),t)}return f.getInitialState=e,f}(e,(function(t){for(var r in f)t.addCase(r,f[r]);for(var n=0,e=o;n<e.length;n++){var i=e[n];t.addMatcher(i.matcher,i.reducer)}c&&t.addDefaultCase(c)}))}return o.forEach((function(t){var n,e,o=i[t],f=r+"/"+t;"reducer"in o?(n=o.reducer,e=o.prepare):n=o,u[t]=n,s[f]=n,c[t]=e?Or(f,e):Or(f)})),{name:r,reducer:function(t,r){return n||(n=f()),n(t,r)},actions:c,caseReducers:u,getInitialState:function(){return n||(n=f()),n.getInitialState()}}}var Ar="listenerMiddleware";Or(Ar+"/add"),Or(Ar+"/removeAll"),Or(Ar+"/remove"),"function"==typeof queueMicrotask&&queueMicrotask.bind("undefined"!=typeof window?window:"undefined"!=typeof global?global:globalThis),function(){function t(t,r){var n=i[t];return n?n.enumerable=r:i[t]=n={configurable:!0,enumerable:r,get:function(){return Wt.get(this[Ft],t)},set:function(r){Wt.set(this[Ft],t,r)}},n}function r(t){for(var r=t.length-1;r>=0;r--){var i=t[r][Ft];if(!i.P)switch(i.i){case 5:e(i)&&Pt(i);break;case 4:n(i)&&Pt(i)}}}function n(t){for(var r=t.t,n=t.k,e=Kt(n),i=e.length-1;i>=0;i--){var o=e[i];if(o!==Ft){var u=r[o];if(void 0===u&&!it(r,o))return!0;var s=n[o],c=s&&s[Ft];if(c?c.t!==u:!ut(s,u))return!0}}var f=!!r[Ft];return e.length!==Kt(r).length+(f?0:1)}function e(t){var r=t.k;if(r.length!==t.t.length)return!0;var n=Object.getOwnPropertyDescriptor(r,r.length-1);if(n&&!n.get)return!0;for(var e=0;e<r.length;e++)if(!r.hasOwnProperty(e))return!0;return!1}var i={};!function(t,r){Vt.ES5||(Vt.ES5=r)}(0,{J:function(r,n){var e=Array.isArray(r),i=function(r,n){if(r){for(var e=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(e,""+i,t(i,!0));return e}var o=Ut(n);delete o[Ft];for(var u=Kt(o),s=0;s<u.length;s++){var c=u[s];o[c]=t(c,r||!!o[c].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(e,r),o={i:e?5:4,A:n?n.A:bt(),P:!1,I:!1,R:{},l:n,t:r,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,Ft,{value:o,writable:!0}),i},S:function(t,n,i){i?tt(n)&&n[Ft].A===t&&r(t.p):(t.u&&function t(r){if(r&&"object"==typeof r){var n=r[Ft];if(n){var i=n.t,o=n.k,u=n.R,s=n.i;if(4===s)nt(o,(function(r){r!==Ft&&(void 0!==i[r]||it(i,r)?u[r]||t(o[r]):(u[r]=!0,Pt(n)))})),nt(i,(function(t){void 0!==o[t]||it(o,t)||(u[t]=!1,Pt(n))}));else if(5===s){if(e(n)&&(Pt(n),u.length=!0),o.length<i.length)for(var c=o.length;c<i.length;c++)u[c]=!1;else for(var f=i.length;f<o.length;f++)u[f]=!0;for(var a=Math.min(o.length,i.length),l=0;l<a;l++)o.hasOwnProperty(l)||(u[l]=!0),void 0===u[l]&&t(o[l])}}}}(t.p[0]),r(t.p))},K:function(t){return 4===t.i?n(t):e(t)}})}();class xr extends r{constructor(t,r){super((t=>{const r=this.__notifier.subscribe(t);return r&&!r.closed&&t.next(this.value),r})),this.__notifier=new P,this.value=r,t.subscribe((t=>{t!==this.value&&(this.value=t,this.__notifier.next(t))}))}}const Pr=(t,r)=>t===r||"function"==typeof r&&t===r.toString();function Cr(...t){const r=t.length;return X(1===r?r=>Pr(r.type,t[0]):n=>{for(let e=0;e<r;e++)if(Pr(n.type,t[e]))return!0;return!1})}const Ir={getApi:()=>new _r};class _r{getBaseUrl(){return A.get().apiUrl}getComments(t,r){let n=`${this.getBaseUrl()}/comments/${t}`;return r&&(n=`${this.getBaseUrl()}/nextpage/comments/${t}?nextpage=${r}`),S((()=>E.get(n))).pipe(w((t=>t.data)))}getSearchResults(t,r){let n=`${this.getBaseUrl()}/search?q=${t}&filter=videos`;return r&&(n=`${this.getBaseUrl()}/nextpage/search?q=${t}&filter=videos&nextpage=${r}`),S((()=>E.get(n))).pipe(w((t=>t.data)),w((t=>({results:t.items.map((t=>({videoId:t.url.split("/watch?v=")[1],thumbnail:t.thumbnail,title:t.title,uploaderAvatar:t.uploaderAvatar,uploaderName:t.uploaderName,uploadedDate:t.uploadedDate,views:t.views}))),nextpage:t.nextpage}))))}getStream(t){const r=t=>"stream"===t.type,n=({url:t})=>({url:t,mime:"application/x-mpegURL",quality:"Auto"}),e=t=>-1!==t.contentLength&&"video/webm"===t.mimeType&&!!t.url,i=t=>Object.assign(Object.assign({},t),{mime:t.mimeType});return S((()=>E.get(`${this.getBaseUrl()}/streams/${t}`))).pipe(w((t=>t.data)),w((o=>({sources:[...o.hls?[n({url:o.hls})]:[],...o.videoStreams.filter(e).map(i)],title:o.title,relatedVideos:o.relatedStreams.filter(r).map((t=>({videoId:t.url.split("/watch?v=")[1],thumbnail:t.thumbnail,title:t.title,uploaderAvatar:t.uploaderAvatar,uploaderName:t.uploaderName,uploadedDate:t.uploadedDate,views:t.views}))),likes:o.likes,dislikes:o.dislikes,uploader:o.uploader,uploaderAvatar:o.uploaderAvatar,uploaderSubscriberCount:o.uploaderSubscriberCount,views:o.views,uploadDate:o.uploadDate,id:t}))))}getTrendingVideos(){return S((()=>E.get(`${this.getBaseUrl()}/trending?region=IN`))).pipe(w((t=>t.data)),w((t=>t.map((t=>({videoId:t.url.split("/watch?v=")[1],thumbnail:t.thumbnail,title:t.title,uploaderAvatar:t.uploaderAvatar,uploaderName:t.uploaderName,uploadedDate:t.uploadedDate,views:t.views}))))))}getSuggestions(t){return S((()=>E.get(`${this.getBaseUrl()}/suggestions?query=${t}`))).pipe(w((t=>t.data)))}getSkipSegments(t){return S((()=>U(E.get(`${this.getBaseUrl()}/sponsors/${t}?category=["sponsor","interaction","selfpromo","music_offtopic"]`)))).pipe(w((t=>t.data.segments)),w((t=>t.map((t=>t.segment)))),G((()=>V([]))))}}const $r=Er({name:"global",initialState:{error:void 0,isLoading:!1},reducers:{setError:(t,r)=>{t.error=r.payload},setLoading(t,r){t.isLoading=r.payload}}}),{setError:Rr,setLoading:kr}=$r.actions,Tr=$r.reducer,Nr=Er({name:"search",initialState:{showSearchBar:!1,searchText:"",suggestions:[],searchResponse:{nextpage:"",results:[]},suggestionsError:void 0,suggestionsLoading:!1},reducers:{toggleSearchBar:t=>{Yr(t)},keyPress:(t,r)=>{t.searchText=r.payload},setSuggestions:(t,r)=>{t.suggestions=r.payload},submitSearch:(t,r)=>{r.payload&&(t.searchText=r.payload),t.suggestions=[]},setSearchResult:(t,r)=>{t.searchResponse=r.payload,t.showSearchBar&&Yr(t)},setSuggestionsError(t,r){t.suggestionsError=r.payload},loadTrending(){},setSuggestionsLoading(t,r){t.suggestionsLoading=r.payload},setSearchText(t,r){t.searchText=r.payload}}}),{keyPress:Lr,toggleSearchBar:Mr,setSuggestions:qr,submitSearch:Dr,setSearchResult:Fr,loadTrending:Br,setSuggestionsError:Kr,setSuggestionsLoading:Ur,setSearchText:Vr}=Nr.actions,Wr=Nr.reducer;function Yr(t){t.showSearchBar=!t.showSearchBar,t.showSearchBar||(t.suggestions=[])}const zr=Er({name:"video-page",initialState:{shareForm:void 0,currentTimeEnabled:!1,copiedLink:"",commentsView:void 0,comments:void 0,areCommentsLoading:!1},reducers:{setShareForm:(t,r)=>{t.shareForm=r.payload,r.payload||(t.currentTimeEnabled=!1,t.copiedLink="")},setCurrentTimeEnabled(t,r){t.currentTimeEnabled=r.payload,t.copiedLink=""},setCopiedLink(t,r){t.copiedLink=r.payload},setCommentView(t,r){t.commentsView=r.payload},setComments(t,r){t.comments=r.payload},setAreCommentsLoading(t,r){t.areCommentsLoading=r.payload}}}),{setShareForm:Jr,setCurrentTimeEnabled:Xr,setCopiedLink:Gr,setCommentView:Hr,setComments:Qr,setAreCommentsLoading:Zr}=zr.actions,tn=zr.reducer,rn=function(t={}){const r=new(0,L.constructor)(L.schedulerActionCtor),n=new P;let e;const i=i=>{e=i;const o=new P,u=new P,s=o.asObservable().pipe(F(r)),c=new xr(u.pipe(F(r)),e.getState());return n.pipe(w((r=>{const n=r(s,c,t.dependencies);if(!n)throw new TypeError(`Your root Epic "${r.name||"<anonymous>"}" does not return a stream. Double check you're not missing a return statement!`);return n})),W((t=>U(t).pipe(B(r),F(r))))).subscribe(e.dispatch),t=>r=>{const n=t(r);return u.next(e.getState()),o.next(r),n}};return i.run=t=>{n.next(t)},i}(),nn=function(...t){const r=(...r)=>J(...t.map((t=>{const n=t(...r);if(!n)throw new TypeError(`combineEpics: one of the provided Epics "${t.name||"<anonymous>"}" does not return a stream. Double check you're not missing a return statement!`);return n})));try{Object.defineProperty(r,"name",{value:`combineEpics(${t.map((t=>t.name||"<anonymous>")).join(", ")})`})}catch(t){}return r}(((t,r)=>t.pipe(Cr(Lr.type),w((()=>r.value.search.searchText)),X((t=>!!t.length)),H((r=>{const n=V(Kr(void 0)),e=V(r).pipe(function(t,r=N){return s(((n,e)=>{let i=null,o=null,u=null;const s=()=>{if(i){i.unsubscribe(),i=null;const t=o;o=null,e.next(t)}};function f(){const n=u+t,o=r.now();if(o<n)return i=this.schedule(void 0,n-o),void e.add(i);s()}n.subscribe(c(e,(n=>{o=n,u=r.now(),i||(i=r.schedule(f,t),e.add(i))}),(()=>{s(),e.complete()}),void 0,(()=>{o=i=null})))}))}(300),H((r=>{const n=Ir.getApi().getSuggestions(r).pipe(w((t=>qr(t))),G((()=>V(Kr({message:"Failed to get Suggestions from the Server. Press Enter to Search"})))),Q(t.pipe(Cr(Dr.type)))),e=t=>V(Ur(t));return z(e(!0),n,e(!1))})));return z(n,e)})))),((t,r)=>t.pipe(Cr(Dr.type),w((()=>r.value.search.searchText)),X((t=>!!t.length)),H((t=>{const r=Ir.getApi().getSearchResults(t).pipe(w((t=>Fr(t))),G((()=>V(Rr({message:"Failed to get response from the Server. Please try changing server from settings(in home page)"}))))),n=t=>V(kr(t));return z(n(!0),r,n(!1))})))),(t=>t.pipe(Cr(Br),H((()=>{const t=Ir.getApi().getTrendingVideos().pipe(w((t=>Fr({results:t,nextpage:""}))),G((()=>V(Rr({message:"Failed to get response from the Server. Please try changing server from settings(in home page)"}))))),r=t=>V(kr(t));return z(r(!0),t,r(!1))})))),(t=>t.pipe(Cr(Hr.type),H((t=>{const r=t;if(!r.payload)return V(Qr({comments:[],nextpage:"",disabled:!1}));const{videoId:n,nextpage:e}=r.payload,i=Ir.getApi().getComments(n,e).pipe(w((t=>Qr(t))),G((()=>V(Qr({comments:[],nextpage:"",disabled:!1}))))),o=t=>V(Zr(t));return z(o(!0),i,o(!1))}))))),en=function(t){var r,n=function(t){return function(t){void 0===t&&(t={});var r=t.thunk,n=void 0===r||r,e=new wr;return n&&(function(t){return"boolean"==typeof t}(n)?e.push(cr):e.push(cr.withExtraArgument(n.extraArgument))),e}(t)},e=t||{},i=e.reducer,o=void 0===i?void 0:i,u=e.middleware,s=void 0===u?n():u,c=e.devTools,f=void 0===c||c,a=e.preloadedState,l=void 0===a?void 0:a,v=e.enhancers,d=void 0===v?void 0:v;if("function"==typeof o)r=o;else{if(!function(t){if("object"!=typeof t||null===t)return!1;var r=Object.getPrototypeOf(t);if(null===r)return!0;for(var n=r;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return r===n}(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');r=function(t){for(var r=Object.keys(t),n={},e=0;e<r.length;e++){var i=r[e];"function"==typeof t[i]&&(n[i]=t[i])}var o,u=Object.keys(n);try{!function(t){Object.keys(t).forEach((function(r){var n=t[r];if(void 0===n(void 0,{type:nr.INIT}))throw new Error(Zt(12));if(void 0===n(void 0,{type:nr.PROBE_UNKNOWN_ACTION()}))throw new Error(Zt(13))}))}(n)}catch(t){o=t}return function(t,r){if(void 0===t&&(t={}),o)throw o;for(var e=!1,i={},s=0;s<u.length;s++){var c=u[s],f=t[c],a=(0,n[c])(f,r);if(void 0===a)throw new Error(Zt(14));i[c]=a,e=e||a!==f}return(e=e||u.length!==Object.keys(t).length)?i:t}}(o)}var h=s;"function"==typeof h&&(h=h(n));var b=ur.apply(void 0,h),p=or;f&&(p=yr(mr({trace:!1},"object"==typeof f&&f)));var m=new gr(b),y=m;return Array.isArray(d)?y=lr([b],d):"function"==typeof d&&(y=d(m)),ir(r,l,p.apply(void 0,y))}({middleware:t=>t().concat(rn),reducer:{search:Wr,global:Tr,videoPage:tn}});rn.run(nn);const on=U(en);export{P as S,Ir as Y,en as a,Rr as b,W as c,Dr as d,Vr as e,U as f,Mr as g,Xr as h,Gr as i,Jr as j,Lr as k,Br as l,J as m,Hr as n,kr as o,on as s,Q as t}