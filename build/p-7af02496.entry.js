import{r as s,h as t,H as i,g as a}from"./p-bb4ef53f.js";import{R as e}from"./p-dfd66d1d.js";import{a as o,l as h,s as r,t as n,k as c}from"./p-0d3348b9.js";import{u as l}from"./p-ddb3f821.js";import{V as p,S as d,a as m}from"./p-0ea661d9.js";import{A as f}from"./p-293ffef4.js";import{m as g}from"./p-498ca91a.js";import"./p-9af66cea.js";let u=class{constructor(t){s(this,t),this.showSearchbar=!1,this.onSearchSubmit=s=>{new e(this.history).showSearchPage(s)}}componentWillLoad(){o.dispatch(h()),r.pipe(g((s=>s.search)),l(this,"disconnectedCallback")).subscribe((s=>{this.showSearchbar=s.showSearchBar,this.searchText=s.searchText,this.videos=s.searchResults,this.suggestions=s.suggestions,this.suggestionsError=s.suggestionsError,this.suggestionsLoading=s.suggestionsLoading}))}disconnectedCallback(){}render(){const s=this.showSearchbar;return t(i,null,t("header",{class:this.showSearchbar?"search-active":""},!this.showSearchbar&&t("h1",null,f),t(m,{searchText:this.searchText,onCloseClick:()=>o.dispatch(n()),onSearchBtnClick:()=>{const s=this.el.querySelector(".search-input");o.dispatch(n()),setTimeout((()=>{s.focus()}),150)},onSearchSubmit:()=>{this.onSearchSubmit(this.searchText)},showSearchbar:this.showSearchbar,onSearchTextChange:s=>o.dispatch(c(s.target.value))})),s&&t(d,{suggestions:this.suggestions,error:this.suggestionsError,loading:this.suggestionsLoading,onClickSuggesion:s=>{this.onSearchSubmit(s)}}),t(p,{videos:this.videos,isShowingSuggestions:s,onClickVideo:s=>{new e(this.history).showVideoPage(s)}}))}get el(){return a(this)}};u.style="";export{u as trending_page}