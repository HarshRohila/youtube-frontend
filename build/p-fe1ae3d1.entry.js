import{r as s,h as i,F as e,H as t}from"./p-34631501.js";import{S as o,Y as r,v as a}from"./p-1b1ffbf9.js";import{a as n,e as h}from"./p-accc46e7.js";let l=class{constructor(i){s(this,i),this.disconnected$=new o}componentWillLoad(){const s=this.match.params.videoId;n.dispatch(h(!0)),r.getApi().getStream(s).pipe(a(this.disconnected$)).subscribe({next:s=>{this.stream=s,n.dispatch(h(!1))},error:()=>{this.error={message:"Failed to load video. Please try refreshing"},n.dispatch(h(!1))}})}get url(){return this.stream.sources[0].url}disconnectedCallback(){this.disconnected$.next(),this.disconnected$.complete()}render(){return i(t,null,i("div",{class:"video-page"},this.stream&&i(e,null,i("video-player",{src:this.url}),i("h3",null,this.stream.title)),this.error&&i("h3",null,this.error.message)))}};l.style="@keyframes gradient{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}.video-page{height:100vh}h3{margin:16px}";export{l as video_page}