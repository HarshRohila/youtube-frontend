import{m as t,Y as n,c as r,t as e,n as o}from"./p-6ad5c5be.js";import{R as i}from"./p-954d5885.js";import{o as u,c,e as f,i as s,f as a,p as l,E as v,b as d,d as h,m as b,s as y,g as p,h as m}from"./p-3b7085e5.js";import{S as w,a as g,c as j,i as O,O as S}from"./p-9f34646c.js";import{S as E}from"./p-fae28420.js";const A={now:()=>(A.delegate||Date).now(),delegate:void 0};class P extends w{constructor(t,n){super()}schedule(t,n=0){return this}}const x={setInterval(t,n,...r){const{delegate:e}=x;return(null==e?void 0:e.setInterval)?e.setInterval(t,n,...r):setInterval(t,n,...r)},clearInterval(t){const{delegate:n}=x;return((null==n?void 0:n.clearInterval)||clearInterval)(t)},delegate:void 0};class C extends P{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const e=this.id,o=this.scheduler;return null!=e&&(this.id=this.recycleAsyncId(o,e,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return x.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&x.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r,e=!1;try{this.work(t)}catch(t){e=!0,r=t||new Error("Scheduled action threw falsy error")}if(e)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,g(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}}class R{constructor(t,n=R.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}R.now=A.now;class T extends R{constructor(t,n=R.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}const I=new T(C),_=I,k=new class extends T{}(class extends C{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(t,n,r):(t.flush(this),0)}});function N(t){return t instanceof Date&&!isNaN(t)}const L=j((t=>function(n=null){t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=n}));function M(t){throw new L(t)}function F(n=1/0){return t(O,n)}function q(...t){return F(1)(a(t,l(t)))}function D(...t){const n=l(t),r=d(t,1/0),e=t;return e.length?1===e.length?s(e[0]):F(r)(a(e,n)):v}function B(t,n){return u(((r,e)=>{let o=0;r.subscribe(c(e,(r=>t.call(n,r,o++)&&e.next(r))))}))}function K(t,n=I){return u(((r,e)=>{let o=null,i=null,u=null;const f=()=>{if(o){o.unsubscribe(),o=null;const t=i;i=null,e.next(t)}};function s(){const r=u+t,i=n.now();if(i<r)return o=this.schedule(void 0,r-i),void e.add(o);f()}r.subscribe(c(e,(r=>{i=r,u=n.now(),o||(o=n.schedule(s,t),e.add(o))}),(()=>{f(),e.complete()}),void 0,(()=>{i=o=null})))}))}function $(t){for(var n=arguments.length,r=Array(n>1?n-1:0),e=1;e<n;e++)r[e-1]=arguments[e];throw Error("[Immer] minified error nr: "+t+(r.length?" "+r.map((function(t){return"'"+t+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function V(t){return!!t&&!!t[Rt]}function W(t){var n;return!!t&&(function(t){if(!t||"object"!=typeof t)return!1;var n=Object.getPrototypeOf(t);if(null===n)return!0;var r=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===Tt}(t)||Array.isArray(t)||!!t[Ct]||!!(null===(n=t.constructor)||void 0===n?void 0:n[Ct])||G(t)||H(t))}function U(t,n,r){void 0===r&&(r=!1),0===Y(t)?(r?Object.keys:It)(t).forEach((function(e){r&&"symbol"==typeof e||n(e,t[e],t)})):t.forEach((function(r,e){return n(e,r,t)}))}function Y(t){var n=t[Rt];return n?n.i>3?n.i-4:n.i:Array.isArray(t)?1:G(t)?2:H(t)?3:0}function J(t,n){return 2===Y(t)?t.has(n):Object.prototype.hasOwnProperty.call(t,n)}function X(t,n,r){var e=Y(t);2===e?t.set(n,r):3===e?t.add(r):t[n]=r}function z(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n}function G(t){return Et&&t instanceof Map}function H(t){return At&&t instanceof Set}function Q(t){return t.o||t.t}function Z(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var n=_t(t);delete n[Rt];for(var r=It(n),e=0;e<r.length;e++){var o=r[e],i=n[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(n[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:t[o]})}return Object.create(Object.getPrototypeOf(t),n)}function tt(t,n){return void 0===n&&(n=!1),rt(t)||V(t)||!W(t)||(Y(t)>1&&(t.set=t.add=t.clear=t.delete=nt),Object.freeze(t),n&&U(t,(function(t,n){return tt(n,!0)}),!0)),t}function nt(){$(2)}function rt(t){return null==t||"object"!=typeof t||Object.isFrozen(t)}function et(t){var n=kt[t];return n||$(18,t),n}function ot(){return Ot}function it(t,n){n&&(et("Patches"),t.u=[],t.s=[],t.v=n)}function ut(t){ct(t),t.p.forEach(st),t.p=null}function ct(t){t===Ot&&(Ot=t.l)}function ft(t){return Ot={p:[],l:Ot,h:t,m:!0,_:0}}function st(t){var n=t[Rt];0===n.i||1===n.i?n.j():n.g=!0}function at(t,n){n._=n.p.length;var r=n.p[0],e=void 0!==t&&t!==r;return n.h.O||et("ES5").S(n,t,e),e?(r[Rt].P&&(ut(n),$(4)),W(t)&&(t=lt(n,t),n.l||dt(n,t)),n.u&&et("Patches").M(r[Rt].t,t,n.u,n.s)):t=lt(n,r,[]),ut(n),n.u&&n.v(n.u,n.s),t!==xt?t:void 0}function lt(t,n,r){if(rt(n))return n;var e=n[Rt];if(!e)return U(n,(function(o,i){return vt(t,e,n,o,i,r)}),!0),n;if(e.A!==t)return n;if(!e.P)return dt(t,e.t,!0),e.t;if(!e.I){e.I=!0,e.A._--;var o=4===e.i||5===e.i?e.o=Z(e.k):e.o,i=o,u=!1;3===e.i&&(i=new Set(o),o.clear(),u=!0),U(i,(function(n,i){return vt(t,e,o,n,i,r,u)})),dt(t,o,!1),r&&t.u&&et("Patches").N(e,r,t.u,t.s)}return e.o}function vt(t,n,r,e,o,i,u){if(V(o)){var c=lt(t,o,i&&n&&3!==n.i&&!J(n.R,e)?i.concat(e):void 0);if(X(r,e,c),!V(c))return;t.m=!1}else u&&r.add(o);if(W(o)&&!rt(o)){if(!t.h.D&&t._<1)return;lt(t,o),n&&n.A.l||dt(t,o)}}function dt(t,n,r){void 0===r&&(r=!1),!t.l&&t.h.D&&t.m&&tt(n,r)}function ht(t,n){var r=t[Rt];return(r?Q(r):t)[n]}function bt(t,n){if(n in t)for(var r=Object.getPrototypeOf(t);r;){var e=Object.getOwnPropertyDescriptor(r,n);if(e)return e;r=Object.getPrototypeOf(r)}}function yt(t){t.P||(t.P=!0,t.l&&yt(t.l))}function pt(t){t.o||(t.o=Z(t.t))}function mt(t,n,r){var e=G(n)?et("MapSet").F(n,r):H(n)?et("MapSet").T(n,r):t.O?function(t,n){var r=Array.isArray(t),e={i:r?1:0,A:n?n.A:ot(),P:!1,I:!1,R:{},l:n,t,k:null,o:null,j:null,C:!1},o=e,i=Nt;r&&(o=[e],i=Lt);var u=Proxy.revocable(o,i),c=u.revoke,f=u.proxy;return e.k=f,e.j=c,f}(n,r):et("ES5").J(n,r);return(r?r.A:ot()).p.push(e),e}function wt(t){return V(t)||$(22,t),function t(n){if(!W(n))return n;var r,e=n[Rt],o=Y(n);if(e){if(!e.P&&(e.i<4||!et("ES5").K(e)))return e.t;e.I=!0,r=gt(n,o),e.I=!1}else r=gt(n,o);return U(r,(function(n,o){e&&function(t,n){return 2===Y(t)?t.get(n):t[n]}(e.t,n)===o||X(r,n,t(o))})),3===o?new Set(r):r}(t)}function gt(t,n){switch(n){case 2:return new Map(t);case 3:return Array.from(t)}return Z(t)}var jt,Ot,St="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Et="undefined"!=typeof Map,At="undefined"!=typeof Set,Pt="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,xt=St?Symbol.for("immer-nothing"):((jt={})["immer-nothing"]=!0,jt),Ct=St?Symbol.for("immer-draftable"):"__$immer_draftable",Rt=St?Symbol.for("immer-state"):"__$immer_state",Tt=""+Object.prototype.constructor,It="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,_t=Object.getOwnPropertyDescriptors||function(t){var n={};return It(t).forEach((function(r){n[r]=Object.getOwnPropertyDescriptor(t,r)})),n},kt={},Nt={get:function(t,n){if(n===Rt)return t;var r=Q(t);if(!J(r,n))return function(t,n,r){var e,o=bt(n,r);return o?"value"in o?o.value:null===(e=o.get)||void 0===e?void 0:e.call(t.k):void 0}(t,r,n);var e=r[n];return t.I||!W(e)?e:e===ht(t.t,n)?(pt(t),t.o[n]=mt(t.A.h,e,t)):e},has:function(t,n){return n in Q(t)},ownKeys:function(t){return Reflect.ownKeys(Q(t))},set:function(t,n,r){var e=bt(Q(t),n);if(null==e?void 0:e.set)return e.set.call(t.k,r),!0;if(!t.P){var o=ht(Q(t),n),i=null==o?void 0:o[Rt];if(i&&i.t===r)return t.o[n]=r,t.R[n]=!1,!0;if(z(r,o)&&(void 0!==r||J(t.t,n)))return!0;pt(t),yt(t)}return t.o[n]===r&&(void 0!==r||n in t.o)||Number.isNaN(r)&&Number.isNaN(t.o[n])||(t.o[n]=r,t.R[n]=!0),!0},deleteProperty:function(t,n){return void 0!==ht(t.t,n)||n in t.t?(t.R[n]=!1,pt(t),yt(t)):delete t.R[n],t.o&&delete t.o[n],!0},getOwnPropertyDescriptor:function(t,n){var r=Q(t),e=Reflect.getOwnPropertyDescriptor(r,n);return e?{writable:!0,configurable:1!==t.i||"length"!==n,enumerable:e.enumerable,value:r[n]}:e},defineProperty:function(){$(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){$(12)}},Lt={};U(Nt,(function(t,n){Lt[t]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}})),Lt.deleteProperty=function(t,n){return Lt.set.call(this,t,n,void 0)},Lt.set=function(t,n,r){return Nt.set.call(this,t[0],n,r,t[0])};var Mt=new(function(){function t(t){var n=this;this.O=Pt,this.D=!0,this.produce=function(t,r,e){if("function"==typeof t&&"function"!=typeof r){var o=r;r=t;var i=n;return function(t){var n=this;void 0===t&&(t=o);for(var e=arguments.length,u=Array(e>1?e-1:0),c=1;c<e;c++)u[c-1]=arguments[c];return i.produce(t,(function(t){var e;return(e=r).call.apply(e,[n,t].concat(u))}))}}var u;if("function"!=typeof r&&$(6),void 0!==e&&"function"!=typeof e&&$(7),W(t)){var c=ft(n),f=mt(n,t,void 0),s=!0;try{u=r(f),s=!1}finally{s?ut(c):ct(c)}return"undefined"!=typeof Promise&&u instanceof Promise?u.then((function(t){return it(c,e),at(t,c)}),(function(t){throw ut(c),t})):(it(c,e),at(u,c))}if(!t||"object"!=typeof t){if(void 0===(u=r(t))&&(u=t),u===xt&&(u=void 0),n.D&&tt(u,!0),e){var a=[],l=[];et("Patches").M(t,u,a,l),e(a,l)}return u}$(21,t)},this.produceWithPatches=function(t,r){if("function"==typeof t)return function(r){for(var e=arguments.length,o=Array(e>1?e-1:0),i=1;i<e;i++)o[i-1]=arguments[i];return n.produceWithPatches(r,(function(n){return t.apply(void 0,[n].concat(o))}))};var e,o,i=n.produce(t,r,(function(t,n){e=t,o=n}));return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(t){return[t,e,o]})):[i,e,o]},"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze)}var n=t.prototype;return n.createDraft=function(t){W(t)||$(8),V(t)&&(t=wt(t));var n=ft(this),r=mt(this,t,void 0);return r[Rt].C=!0,ct(n),r},n.finishDraft=function(t,n){var r=(t&&t[Rt]).A;return it(r,n),at(void 0,r)},n.setAutoFreeze=function(t){this.D=t},n.setUseProxies=function(t){t&&!Pt&&$(20),this.O=t},n.applyPatches=function(t,n){var r;for(r=n.length-1;r>=0;r--){var e=n[r];if(0===e.path.length&&"replace"===e.op){t=e.value;break}}r>-1&&(n=n.slice(r+1));var o=et("Patches").$;return V(t)?o(t,n):this.produce(t,(function(t){return o(t,n)}))},t}()),Ft=Mt.produce;function qt(t){return(qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dt(t,n,r){return(n=function(t){var n=function(t,n){if("object"!==qt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var e=r.call(t,n);if("object"!==qt(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"===qt(n)?n:String(n)}(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function Bt(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),r.push.apply(r,e)}return r}function Kt(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?Bt(Object(r),!0).forEach((function(n){Dt(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bt(Object(r)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))}))}return t}function $t(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}Mt.produceWithPatches.bind(Mt),Mt.setAutoFreeze.bind(Mt),Mt.setUseProxies.bind(Mt),Mt.applyPatches.bind(Mt),Mt.createDraft.bind(Mt),Mt.finishDraft.bind(Mt);var Vt="function"==typeof Symbol&&Symbol.observable||"@@observable",Wt=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ut={INIT:"@@redux/INIT"+Wt(),REPLACE:"@@redux/REPLACE"+Wt(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Wt()}};function Yt(t){if("object"!=typeof t||null===t)return!1;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(t)===n}function Jt(t,n,r){var e;if("function"==typeof n&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error($t(0));if("function"==typeof n&&void 0===r&&(r=n,n=void 0),void 0!==r){if("function"!=typeof r)throw new Error($t(1));return r(Jt)(t,n)}if("function"!=typeof t)throw new Error($t(2));var o=t,i=n,u=[],c=u,f=!1;function s(){c===u&&(c=u.slice())}function a(){if(f)throw new Error($t(3));return i}function l(t){if("function"!=typeof t)throw new Error($t(4));if(f)throw new Error($t(5));var n=!0;return s(),c.push(t),function(){if(n){if(f)throw new Error($t(6));n=!1,s();var r=c.indexOf(t);c.splice(r,1),u=null}}}function v(t){if(!Yt(t))throw new Error($t(7));if(void 0===t.type)throw new Error($t(8));if(f)throw new Error($t(9));try{f=!0,i=o(i,t)}finally{f=!1}for(var n=u=c,r=0;r<n.length;r++)(0,n[r])();return t}function d(t){if("function"!=typeof t)throw new Error($t(10));o=t,v({type:Ut.REPLACE})}function h(){var t,n=l;return(t={subscribe:function(t){if("object"!=typeof t||null===t)throw new Error($t(11));function r(){t.next&&t.next(a())}return r(),{unsubscribe:n(r)}}})[Vt]=function(){return this},t}return v({type:Ut.INIT}),(e={dispatch:v,subscribe:l,getState:a,replaceReducer:d})[Vt]=h,e}function Xt(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 0===n.length?function(t){return t}:1===n.length?n[0]:n.reduce((function(t,n){return function(){return t(n.apply(void 0,arguments))}}))}function zt(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(t){return function(){var r=t.apply(void 0,arguments),e=function(){throw new Error($t(15))},o={getState:r.getState,dispatch:function(){return e.apply(void 0,arguments)}},i=n.map((function(t){return t(o)}));return e=Xt.apply(void 0,i)(r.dispatch),Kt(Kt({},r),{},{dispatch:e})}}}function Gt(t){return function(n){var r=n.dispatch,e=n.getState;return function(n){return function(o){return"function"==typeof o?o(r,e,t):n(o)}}}}var Ht=Gt();Ht.withExtraArgument=Gt;var Qt,Zt=(Qt=function(t,n){return(Qt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])})(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}Qt(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),tn=function(t,n){for(var r=0,e=n.length,o=t.length;r<e;r++,o++)t[o]=n[r];return t},nn=Object.defineProperty,rn=Object.getOwnPropertySymbols,en=Object.prototype.hasOwnProperty,on=Object.prototype.propertyIsEnumerable,un=function(t,n,r){return n in t?nn(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r},cn=function(t,n){for(var r in n||(n={}))en.call(n,r)&&un(t,r,n[r]);if(rn)for(var e=0,o=rn(n);e<o.length;e++)on.call(n,r=o[e])&&un(t,r,n[r]);return t},fn="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?Xt:Xt.apply(null,arguments)},sn=function(t){function n(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var o=t.apply(this,r)||this;return Object.setPrototypeOf(o,n.prototype),o}return Zt(n,t),Object.defineProperty(n,Symbol.species,{get:function(){return n},enumerable:!1,configurable:!0}),n.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},n.prototype.prepend=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return 1===t.length&&Array.isArray(t[0])?new(n.bind.apply(n,tn([void 0],t[0].concat(this)))):new(n.bind.apply(n,tn([void 0],t.concat(this))))},n}(Array),an=function(t){function n(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var o=t.apply(this,r)||this;return Object.setPrototypeOf(o,n.prototype),o}return Zt(n,t),Object.defineProperty(n,Symbol.species,{get:function(){return n},enumerable:!1,configurable:!0}),n.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},n.prototype.prepend=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return 1===t.length&&Array.isArray(t[0])?new(n.bind.apply(n,tn([void 0],t[0].concat(this)))):new(n.bind.apply(n,tn([void 0],t.concat(this))))},n}(Array);function ln(t){return W(t)?Ft(t,(function(){})):t}function vn(t,n){function r(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(n){var o=n.apply(void 0,r);if(!o)throw new Error("prepareAction did not return an object");return cn(cn({type:t,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:t,payload:r[0]}}return r.toString=function(){return""+t},r.type=t,r.match=function(n){return n.type===t},r}function dn(t){var n,r={},e=[],o={addCase:function(t,n){var e="string"==typeof t?t:t.type;if(e in r)throw new Error("addCase cannot be called with two reducers for the same action type");return r[e]=n,o},addMatcher:function(t,n){return e.push({matcher:t,reducer:n}),o},addDefaultCase:function(t){return n=t,o}};return t(o),[r,e,n]}function hn(t){var n=t.name;if(!n)throw new Error("`name` is a required option for createSlice");var r,e="function"==typeof t.initialState?t.initialState:ln(t.initialState),o=t.reducers||{},i=Object.keys(o),u={},c={},f={};function s(){var n="function"==typeof t.extraReducers?dn(t.extraReducers):[t.extraReducers],r=n[0],o=n[1],i=void 0===o?[]:o,u=n[2],f=void 0===u?void 0:u,s=cn(cn({},void 0===r?{}:r),c);return function(t,n,r){void 0===r&&(r=[]);var e,o=dn(n),i=o[0],u=o[1],c=o[2];if(function(t){return"function"==typeof t}(t))e=function(){return ln(t())};else{var f=ln(t);e=function(){return f}}function s(t,n){void 0===t&&(t=e());var r=tn([i[n.type]],u.filter((function(t){return(0,t.matcher)(n)})).map((function(t){return t.reducer})));return 0===r.filter((function(t){return!!t})).length&&(r=[c]),r.reduce((function(t,r){if(r){var e;if(V(t))return void 0===(e=r(t,n))?t:e;if(W(t))return Ft(t,(function(t){return r(t,n)}));if(void 0===(e=r(t,n))){if(null===t)return t;throw Error("A case reducer on a non-draftable value must not return undefined")}return e}return t}),t)}return s.getInitialState=e,s}(e,(function(t){for(var n in s)t.addCase(n,s[n]);for(var r=0,e=i;r<e.length;r++){var o=e[r];t.addMatcher(o.matcher,o.reducer)}f&&t.addDefaultCase(f)}))}return i.forEach((function(t){var r,e,i=o[t],s=n+"/"+t;"reducer"in i?(r=i.reducer,e=i.prepare):r=i,u[t]=r,c[s]=r,f[t]=e?vn(s,e):vn(s)})),{name:n,reducer:function(t,n){return r||(r=s()),r(t,n)},actions:f,caseReducers:u,getInitialState:function(){return r||(r=s()),r.getInitialState()}}}var bn="listenerMiddleware";vn(bn+"/add"),vn(bn+"/removeAll"),vn(bn+"/remove"),"function"==typeof queueMicrotask&&queueMicrotask.bind("undefined"!=typeof window?window:"undefined"!=typeof global?global:globalThis),function(){function t(t,n){var r=o[t];return r?r.enumerable=n:o[t]=r={configurable:!0,enumerable:n,get:function(){return Nt.get(this[Rt],t)},set:function(n){Nt.set(this[Rt],t,n)}},r}function n(t){for(var n=t.length-1;n>=0;n--){var o=t[n][Rt];if(!o.P)switch(o.i){case 5:e(o)&&yt(o);break;case 4:r(o)&&yt(o)}}}function r(t){for(var n=t.t,r=t.k,e=It(r),o=e.length-1;o>=0;o--){var i=e[o];if(i!==Rt){var u=n[i];if(void 0===u&&!J(n,i))return!0;var c=r[i],f=c&&c[Rt];if(f?f.t!==u:!z(c,u))return!0}}var s=!!n[Rt];return e.length!==It(n).length+(s?0:1)}function e(t){var n=t.k;if(n.length!==t.t.length)return!0;var r=Object.getOwnPropertyDescriptor(n,n.length-1);if(r&&!r.get)return!0;for(var e=0;e<n.length;e++)if(!n.hasOwnProperty(e))return!0;return!1}var o={};!function(t,n){kt.ES5||(kt.ES5=n)}(0,{J:function(n,r){var e=Array.isArray(n),o=function(n,r){if(n){for(var e=Array(r.length),o=0;o<r.length;o++)Object.defineProperty(e,""+o,t(o,!0));return e}var i=_t(r);delete i[Rt];for(var u=It(i),c=0;c<u.length;c++){var f=u[c];i[f]=t(f,n||!!i[f].enumerable)}return Object.create(Object.getPrototypeOf(r),i)}(e,n),i={i:e?5:4,A:r?r.A:ot(),P:!1,I:!1,R:{},l:r,t:n,k:o,o:null,g:!1,C:!1};return Object.defineProperty(o,Rt,{value:i,writable:!0}),o},S:function(t,r,o){o?V(r)&&r[Rt].A===t&&n(t.p):(t.u&&function t(n){if(n&&"object"==typeof n){var r=n[Rt];if(r){var o=r.t,i=r.k,u=r.R,c=r.i;if(4===c)U(i,(function(n){n!==Rt&&(void 0!==o[n]||J(o,n)?u[n]||t(i[n]):(u[n]=!0,yt(r)))})),U(o,(function(t){void 0!==i[t]||J(i,t)||(u[t]=!1,yt(r))}));else if(5===c){if(e(r)&&(yt(r),u.length=!0),i.length<o.length)for(var f=i.length;f<o.length;f++)u[f]=!1;else for(var s=o.length;s<i.length;s++)u[s]=!0;for(var a=Math.min(i.length,o.length),l=0;l<a;l++)i.hasOwnProperty(l)||(u[l]=!0),void 0===u[l]&&t(i[l])}}}}(t.p[0]),n(t.p))},K:function(t){return 4===t.i?r(t):e(t)}})}();class yn extends S{constructor(t,n){super((t=>{const n=this.__notifier.subscribe(t);return n&&!n.closed&&t.next(this.value),n})),this.__notifier=new E,this.value=n,t.subscribe((t=>{t!==this.value&&(this.value=t,this.__notifier.next(t))}))}}const pn=(t,n)=>t===n||"function"==typeof n&&t===n.toString();function mn(...t){const n=t.length;return B(1===n?n=>pn(n.type,t[0]):r=>{for(let e=0;e<n;e++)if(pn(r.type,t[e]))return!0;return!1})}const wn=hn({name:"global",initialState:{error:void 0,isLoading:!1},reducers:{setError:(t,n)=>{t.error=n.payload},setLoading(t,n){t.isLoading=n.payload}}}),{setError:gn,setLoading:jn}=wn.actions,On=wn.reducer,Sn=hn({name:"search",initialState:{showSearchBar:!1,searchText:"",suggestions:[],searchResponse:{nextpage:"",results:[]},suggestionsError:void 0,suggestionsLoading:!1},reducers:{toggleSearchBar:t=>{Nn(t)},keyPress:(t,n)=>{t.searchText=n.payload},setSuggestions:(t,n)=>{t.suggestions=n.payload},submitSearch:(t,n)=>{n.payload&&(t.searchText=n.payload),t.suggestions=[]},setSearchResult:(t,n)=>{t.searchResponse=n.payload,t.showSearchBar&&Nn(t)},setSuggestionsError(t,n){t.suggestionsError=n.payload},loadTrending(){},setSuggestionsLoading(t,n){t.suggestionsLoading=n.payload},setSearchText(t,n){t.searchText=n.payload}}}),{keyPress:En,toggleSearchBar:An,setSuggestions:Pn,submitSearch:xn,setSearchResult:Cn,loadTrending:Rn,setSuggestionsError:Tn,setSuggestionsLoading:In,setSearchText:_n}=Sn.actions,kn=Sn.reducer;function Nn(t){t.showSearchBar=!t.showSearchBar,t.showSearchBar||(t.suggestions=[])}const Ln=hn({name:"video-page",initialState:{shareForm:void 0,currentTimeEnabled:!1,copiedLink:"",commentsView:void 0,comments:void 0,areCommentsLoading:!1},reducers:{setShareForm:(t,n)=>{t.shareForm=n.payload,n.payload||(t.currentTimeEnabled=!1,t.copiedLink="")},setCurrentTimeEnabled(t,n){t.currentTimeEnabled=n.payload,t.copiedLink=""},setCopiedLink(t,n){t.copiedLink=n.payload},setCommentView(t,n){t.commentsView=n.payload,t.commentsView||(t.comments=o())},setComments(t,n){t.comments=n.payload},setAreCommentsLoading(t,n){t.areCommentsLoading=n.payload}}}),{setShareForm:Mn,setCurrentTimeEnabled:Fn,setCopiedLink:qn,setCommentView:Dn,setComments:Bn,setAreCommentsLoading:Kn}=Ln.actions,$n=Ln.reducer,Vn=function(n={}){const r=new(0,k.constructor)(k.schedulerActionCtor),e=new E;let o;const i=i=>{o=i;const u=new E,c=new E,f=u.asObservable().pipe(h(r)),s=new yn(c.pipe(h(r)),o.getState());return e.pipe(b((t=>{const r=t(f,s,n.dependencies);if(!r)throw new TypeError(`Your root Epic "${t.name||"<anonymous>"}" does not return a stream. Double check you're not missing a return statement!`);return r})),t((t=>a(t).pipe(y(r),h(r))))).subscribe(o.dispatch),t=>n=>{const r=t(n);return c.next(o.getState()),u.next(n),r}};return i.run=t=>{e.next(t)},i}(),Wn=function(...t){const n=(...n)=>D(...t.map((t=>{const r=t(...n);if(!r)throw new TypeError(`combineEpics: one of the provided Epics "${t.name||"<anonymous>"}" does not return a stream. Double check you're not missing a return statement!`);return r})));try{Object.defineProperty(n,"name",{value:`combineEpics(${t.map((t=>t.name||"<anonymous>")).join(", ")})`})}catch(t){}return n}(((t,o)=>t.pipe(mn(En.type),b((()=>o.value.search.searchText)),B((t=>!!t.length)),K(300),p((o=>{const i=m(Tn(void 0)),u=m(o).pipe(K(300),p((o=>{const i=n.getApi().getSuggestions(o).pipe(b((t=>Pn(t))),r((()=>m(Tn({message:"Failed to get Suggestions from the Server. Press Enter to Search"})))),e(t.pipe(mn(xn.type)))),u=t=>m(In(t));return q(u(!0),i,u(!1))})));return q(i,u)})))),((t,e)=>t.pipe(mn(xn.type),b((()=>e.value.search.searchText)),B((t=>!!t.length)),p((t=>{const e=n.getApi().getSearchResults(t).pipe(b((t=>Cn(t))),r((()=>m(gn({message:"Failed to get response from the Server. Please try changing server from settings(in home page)"}))))),o=t=>m(jn(t));return q(o(!0),e,o(!1))})))),(t=>t.pipe(mn(Rn),p((()=>{const t=n.getApi().getTrendingVideos().pipe(function(t,n){const{first:r,each:e,with:o=M,scheduler:i=(null!=n?n:I),meta:a=null}=N(t)?{first:t}:"number"==typeof t?{each:t}:t;if(null==r&&null==e)throw new TypeError("No timeout provided.");return u(((t,n)=>{let u,l,v=null,d=0;const h=t=>{l=f(n,i,(()=>{try{u.unsubscribe(),s(o({meta:a,lastValue:v,seen:d})).subscribe(n)}catch(t){n.error(t)}}),t)};u=t.subscribe(c(n,(t=>{null==l||l.unsubscribe(),d++,n.next(v=t),e>0&&h(e)}),void 0,void 0,(()=>{(null==l?void 0:l.closed)||null==l||l.unsubscribe(),v=null}))),!d&&h(null!=r?"number"==typeof r?r:+r-i.now():e)}))}(i),b((t=>Cn({results:t,nextpage:""}))),r((()=>m(gn({message:"Failed to get response from the Server. Please try changing server from settings(in home page)"}))))),e=t=>m(jn(t));return q(e(!0),t,e(!1))})))),(t=>t.pipe(mn(Dn.type),p((t=>{const e=t;if(!e.payload)return m(Bn(o()));const{videoId:i,nextpage:u}=e.payload,c=n.getApi().getComments(i,u).pipe(b((t=>Bn(t))),r((()=>m(Bn(o()))))),f=t=>m(Kn(t));return q(f(!0),c,f(!1))}))))),Un=function(t){var n,r=function(t){return function(t){void 0===t&&(t={});var n=t.thunk,r=void 0===n||n,e=new sn;return r&&(function(t){return"boolean"==typeof t}(r)?e.push(Ht):e.push(Ht.withExtraArgument(r.extraArgument))),e}(t)},e=t||{},o=e.reducer,i=void 0===o?void 0:o,u=e.middleware,c=void 0===u?r():u,f=e.devTools,s=void 0===f||f,a=e.preloadedState,l=void 0===a?void 0:a,v=e.enhancers,d=void 0===v?void 0:v;if("function"==typeof i)n=i;else{if(!function(t){if("object"!=typeof t||null===t)return!1;var n=Object.getPrototypeOf(t);if(null===n)return!0;for(var r=n;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return n===r}(i))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');n=function(t){for(var n=Object.keys(t),r={},e=0;e<n.length;e++){var o=n[e];"function"==typeof t[o]&&(r[o]=t[o])}var i,u=Object.keys(r);try{!function(t){Object.keys(t).forEach((function(n){var r=t[n];if(void 0===r(void 0,{type:Ut.INIT}))throw new Error($t(12));if(void 0===r(void 0,{type:Ut.PROBE_UNKNOWN_ACTION()}))throw new Error($t(13))}))}(r)}catch(t){i=t}return function(t,n){if(void 0===t&&(t={}),i)throw i;for(var e=!1,o={},c=0;c<u.length;c++){var f=u[c],s=t[f],a=(0,r[f])(s,n);if(void 0===a)throw new Error($t(14));o[f]=a,e=e||a!==s}return(e=e||u.length!==Object.keys(t).length)?o:t}}(i)}var h=c;"function"==typeof h&&(h=h(r));var b=zt.apply(void 0,h),y=Xt;s&&(y=fn(cn({trace:!1},"object"==typeof s&&s)));var p=new an(b),m=p;return Array.isArray(d)?m=tn([b],d):"function"==typeof d&&(m=d(p)),Jt(n,l,y.apply(void 0,m))}({middleware:t=>t().concat(Vn),reducer:{search:kn,global:On,videoPage:$n}});Vn.run(Wn);const Yn=a(Un);export{Un as a,gn as b,xn as c,_n as d,jn as e,Fn as f,qn as g,Mn as h,Dn as i,N as j,En as k,Rn as l,D as m,_ as n,I as o,B as p,Yn as s,An as t}