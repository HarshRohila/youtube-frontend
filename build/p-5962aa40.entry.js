import{r as s,h as t,H as i,g as o}from"./p-27ce4408.js";import{R as r}from"./p-1a687b83.js";import{f as e,s as h,d as a,g as p,S as c,b as m,t as n,c as j,k as d}from"./p-fe9cdb4c.js";import{A as l}from"./p-954d5885.js";import{g as f}from"./p-13637994.js";import{c as b}from"./p-c1b151ee.js";import{v as g}from"./p-8cb43504.js";import{o as u}from"./p-e88f731b.js";import{m as S}from"./p-701710ba.js";import{t as C}from"./p-c4fd8842.js";import{V as k}from"./p-c358820d.js";import"./p-2d1a0235.js";import"./p-d0239e1a.js";import"./p-b44dc71b.js";import"./p-bc5141d2.js";import"./p-14a93dff.js";import"./p-6cf4a597.js";import"./p-4357c78a.js";import"./p-d53ccd5c.js";import"./p-c2b68ac1.js";import"./p-7e3efe59.js";import"./p-fcbaad83.js";import"./p-4c181b5f.js";let w=class{constructor(t){s(this,t),this.showSearchbar=!1,this.onClickPlaylistBtn=()=>{new r(this.history).showPlaylistPage()},this.searchTextChangeEvent=g((s=>s.target.value)),this.searchSubmitEvent=g((()=>this.searchText)),this.suggestionClickEvent=g()}componentWillLoad(){const s=b(this),t=e(u(1));s.justSubscribe(t),s.subscribe(h.asObservable(),{next:s=>{this.showSearchbar=s.showSearchBar,this.searchText=s.searchText,this.videos=s.searchResponse.results,this.suggestions=s.suggestions,this.suggestionsError=s.suggestionsError,this.suggestionsLoading=s.suggestionsLoading}});const i=S(this.suggestionClickEvent.$,this.searchSubmitEvent.$).pipe(C((s=>{j(s),new r(this.history).showSearchPage(s)}))),o=a(i),c=this.searchTextChangeEvent.$.pipe(C((s=>{d(s)})),p(i));s.justSubscribe(o,c)}get headerClass(){return this.showSearchbar?"search-active":""}render(){const s=this.showSearchbar;return t(i,null,t("header",{class:this.headerClass+" home"},!this.showSearchbar&&t("button",{class:"playlist-btn",onClick:this.onClickPlaylistBtn},t("x-icon",{icon:f})),!this.showSearchbar&&t("h1",null,l),t(m,{searchText:this.searchText,onCloseClick:()=>n(),onSearchBtnClick:()=>{const s=this.el.querySelector(".search-input");n(),setTimeout((()=>{s.focus()}),150)},onSearchSubmit:this.searchSubmitEvent.handler,showSearchbar:this.showSearchbar,onSearchTextChange:this.searchTextChangeEvent.handler})),!this.showSearchbar&&t("settings-btn",{history:this.history}),s&&t(c,{suggestions:this.suggestions,error:this.suggestionsError,loading:this.suggestionsLoading,onClickSuggesion:this.suggestionClickEvent.handler}),t(k,{preloadStream:!0,videos:this.videos,isShowingSuggestions:s,onClickVideo:s=>{new r(this.history).showVideoPage(s)}}))}get el(){return o(this)}};w.style="";export{w as trending_page}