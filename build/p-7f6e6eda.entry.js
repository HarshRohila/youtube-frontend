import{h as t,r as e,F as n,H as r}from"./p-27ce4408.js";import{Y as o}from"./p-d0239e1a.js";import{s as i}from"./p-4357c78a.js";import{b as a,h as u,i as s,j as c,k as f,l,m as h,n as m}from"./p-13637994.js";import{R as d}from"./p-1a687b83.js";import{V as v}from"./p-c358820d.js";import{s as p,a as y,b,c as w,d as g,f as j}from"./p-34852140.js";import{a as O}from"./p-165e63ee.js";import{c as S}from"./p-9c808f1f.js";import{c as x}from"./p-c1b151ee.js";import{S as k}from"./p-8cb43504.js";import{g as A}from"./p-d53ccd5c.js";import{C as I}from"./p-b44dc71b.js";import{S as T}from"./p-4c181b5f.js";import{t as E}from"./p-fcbaad83.js";import{l as N,t as q}from"./p-7e3efe59.js";import{m as M}from"./p-14a93dff.js";import{t as C}from"./p-c4fd8842.js";import"./p-bc5141d2.js";import"./p-e88f731b.js";import"./p-6cf4a597.js";import"./p-2d1a0235.js";import"./p-954d5885.js";import"./p-54cb02ed.js";const R=Intl.NumberFormat("en",{notation:"compact"});function z({video:e}){return t("div",{class:"uploader-info"},t("img",{class:"uploader-avatar",src:e.uploaderAvatar}),t("span",{class:"info"},t("h3",null,e.uploader),!!e.uploaderVerified&&t("x-icon",{icon:a}),t("h4",null,R.format(e.uploaderSubscriberCount))))}var D="en",F={},L={};function U(){return D}function P(t){return F[t]?t:L[t.toLowerCase()]?L[t.toLowerCase()]:void 0}function V(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.localeMatcher||"lookup";switch(n){case"lookup":case"best fit":return _(t);default:throw new RangeError('Invalid "localeMatcher" option: '.concat(n))}}function _(t){var e=P(t);if(e)return e;for(var n=t.split("-");t.length>1;){n.pop();var r=P(t=n.join("-"));if(r)return r}}var H={af:function(t){return 1==t?"one":"other"},am:function(t){return t>=0&&t<=1?"one":"other"},ar:function(t){var e=String(t).split("."),n=Number(e[0])==t&&e[0].slice(-2);return 0==t?"zero":1==t?"one":2==t?"two":n>=3&&n<=10?"few":n>=11&&n<=99?"many":"other"},ast:function(t){var e=String(t).split(".");return 1!=t||e[1]?"other":"one"},be:function(t){var e=String(t).split("."),n=Number(e[0])==t,r=n&&e[0].slice(-1),o=n&&e[0].slice(-2);return 1==r&&11!=o?"one":r>=2&&r<=4&&(o<12||o>14)?"few":n&&0==r||r>=5&&r<=9||o>=11&&o<=14?"many":"other"},br:function(t){var e=String(t).split("."),n=Number(e[0])==t,r=n&&e[0].slice(-1),o=n&&e[0].slice(-2),i=n&&e[0].slice(-6);return 1==r&&11!=o&&71!=o&&91!=o?"one":2==r&&12!=o&&72!=o&&92!=o?"two":(3==r||4==r||9==r)&&(o<10||o>19)&&(o<70||o>79)&&(o<90||o>99)?"few":0!=t&&n&&0==i?"many":"other"},bs:function(t){var e=String(t).split("."),n=e[0],r=e[1]||"",o=!e[1],i=n.slice(-1),a=n.slice(-2),u=r.slice(-1),s=r.slice(-2);return o&&1==i&&11!=a||1==u&&11!=s?"one":o&&i>=2&&i<=4&&(a<12||a>14)||u>=2&&u<=4&&(s<12||s>14)?"few":"other"},ca:function(t){var e=String(t).split("."),n=e[0],r=!e[1],o=n.slice(-6);return 1==t&&r?"one":0!=n&&0==o&&r?"many":"other"},ceb:function(t){var e=String(t).split("."),n=e[0],r=e[1]||"",o=!e[1],i=n.slice(-1),a=r.slice(-1);return o&&(1==n||2==n||3==n)||o&&4!=i&&6!=i&&9!=i||!o&&4!=a&&6!=a&&9!=a?"one":"other"},cs:function(t){var e=String(t).split("."),n=e[0],r=!e[1];return 1==t&&r?"one":n>=2&&n<=4&&r?"few":r?"other":"many"},cy:function(t){return 0==t?"zero":1==t?"one":2==t?"two":3==t?"few":6==t?"many":"other"},da:function(t){var e=String(t).split("."),n=e[0],r=Number(e[0])==t;return 1!=t&&(r||0!=n&&1!=n)?"other":"one"},dsb:function(t){var e=String(t).split("."),n=e[1]||"",r=!e[1],o=e[0].slice(-2),i=n.slice(-2);return r&&1==o||1==i?"one":r&&2==o||2==i?"two":r&&(3==o||4==o)||3==i||4==i?"few":"other"},dz:function(){return"other"},es:function(t){var e=String(t).split("."),n=e[0],r=!e[1],o=n.slice(-6);return 1==t?"one":0!=n&&0==o&&r?"many":"other"},ff:function(t){return t>=0&&t<2?"one":"other"},fr:function(t){var e=String(t).split("."),n=e[0],r=!e[1],o=n.slice(-6);return t>=0&&t<2?"one":0!=n&&0==o&&r?"many":"other"},ga:function(t){var e=String(t).split("."),n=Number(e[0])==t;return 1==t?"one":2==t?"two":n&&t>=3&&t<=6?"few":n&&t>=7&&t<=10?"many":"other"},gd:function(t){var e=String(t).split("."),n=Number(e[0])==t;return 1==t||11==t?"one":2==t||12==t?"two":n&&t>=3&&t<=10||n&&t>=13&&t<=19?"few":"other"},he:function(t){var e=String(t).split("."),n=e[0],r=!e[1];return 1==n&&r||0==n&&!r?"one":2==n&&r?"two":"other"},is:function(t){var e=String(t).split("."),n=e[0],r=(e[1]||"").replace(/0+$/,""),o=Number(e[0])==t,i=n.slice(-1),a=n.slice(-2);return o&&1==i&&11!=a||r%10==1&&r%100!=11?"one":"other"},ksh:function(t){return 0==t?"zero":1==t?"one":"other"},lt:function(t){var e=String(t).split("."),n=e[1]||"",r=Number(e[0])==t,o=r&&e[0].slice(-1),i=r&&e[0].slice(-2);return 1==o&&(i<11||i>19)?"one":o>=2&&o<=9&&(i<11||i>19)?"few":0!=n?"many":"other"},lv:function(t){var e=String(t).split("."),n=e[1]||"",r=n.length,o=Number(e[0])==t,i=o&&e[0].slice(-1),a=o&&e[0].slice(-2),u=n.slice(-2),s=n.slice(-1);return o&&0==i||a>=11&&a<=19||2==r&&u>=11&&u<=19?"zero":1==i&&11!=a||2==r&&1==s&&11!=u||2!=r&&1==s?"one":"other"},mk:function(t){var e=String(t).split("."),n=e[0],r=e[1]||"",o=!e[1],i=n.slice(-1),a=n.slice(-2),u=r.slice(-1),s=r.slice(-2);return o&&1==i&&11!=a||1==u&&11!=s?"one":"other"},mt:function(t){var e=String(t).split("."),n=Number(e[0])==t&&e[0].slice(-2);return 1==t?"one":2==t?"two":0==t||n>=3&&n<=10?"few":n>=11&&n<=19?"many":"other"},pa:function(t){return 0==t||1==t?"one":"other"},pl:function(t){var e=String(t).split("."),n=e[0],r=!e[1],o=n.slice(-1),i=n.slice(-2);return 1==t&&r?"one":r&&o>=2&&o<=4&&(i<12||i>14)?"few":r&&1!=n&&(0==o||1==o)||r&&o>=5&&o<=9||r&&i>=12&&i<=14?"many":"other"},pt:function(t){var e=String(t).split("."),n=e[0],r=!e[1],o=n.slice(-6);return 0==n||1==n?"one":0!=n&&0==o&&r?"many":"other"},ro:function(t){var e=String(t).split("."),n=!e[1],r=Number(e[0])==t&&e[0].slice(-2);return 1==t&&n?"one":!n||0==t||1!=t&&r>=1&&r<=19?"few":"other"},ru:function(t){var e=String(t).split("."),n=e[0],r=!e[1],o=n.slice(-1),i=n.slice(-2);return r&&1==o&&11!=i?"one":r&&o>=2&&o<=4&&(i<12||i>14)?"few":r&&0==o||r&&o>=5&&o<=9||r&&i>=11&&i<=14?"many":"other"},se:function(t){return 1==t?"one":2==t?"two":"other"},si:function(t){var e=String(t).split(".");return 0==t||1==t||0==e[0]&&1==(e[1]||"")?"one":"other"},sl:function(t){var e=String(t).split("."),n=!e[1],r=e[0].slice(-2);return n&&1==r?"one":n&&2==r?"two":n&&(3==r||4==r)||!n?"few":"other"}};function $(t){return"pt-PT"===t?t:function(t){var e=t.match(B);if(!e)throw new TypeError("Invalid locale: ".concat(t));return e[1]}(t)}H.as=H.am,H.az=H.af,H.bg=H.af,H.bn=H.am,H.brx=H.af,H.ce=H.af,H.chr=H.af,H.de=H.ast,H.ee=H.af,H.el=H.af,H.en=H.ast,H.et=H.ast,H.eu=H.af,H.fa=H.am,H.fi=H.ast,H.fil=H.ceb,H.fo=H.af,H.fur=H.af,H.fy=H.ast,H.gl=H.ast,H.gu=H.am,H.ha=H.af,H.hi=H.am,H.hr=H.bs,H.hsb=H.dsb,H.hu=H.af,H.hy=H.ff,H.ia=H.ast,H.id=H.dz,H.ig=H.dz,H.it=H.ca,H.ja=H.dz,H.jgo=H.af,H.jv=H.dz,H.ka=H.af,H.kea=H.dz,H.kk=H.af,H.kl=H.af,H.km=H.dz,H.kn=H.am,H.ko=H.dz,H.ks=H.af,H.ku=H.af,H.ky=H.af,H.lb=H.af,H.lkt=H.dz,H.lo=H.dz,H.ml=H.af,H.mn=H.af,H.mr=H.af,H.ms=H.dz,H.my=H.dz,H.nb=H.af,H.ne=H.af,H.nl=H.ast,H.nn=H.af,H.no=H.af,H.or=H.af,H.pcm=H.am,H.ps=H.af,H.rm=H.af,H.sah=H.dz,H.sc=H.ast,H.sd=H.af,H.sk=H.cs,H.so=H.af,H.sq=H.af,H.sr=H.bs,H.su=H.dz,H.sv=H.ast,H.sw=H.ast,H.ta=H.af,H.te=H.af,H.th=H.dz,H.ti=H.pa,H.tk=H.af,H.to=H.dz,H.tr=H.af,H.ug=H.af,H.uk=H.ru,H.ur=H.ast,H.uz=H.af,H.vi=H.dz,H.wae=H.af,H.wo=H.dz,H.xh=H.af,H.yi=H.ast,H.yo=H.dz,H.yue=H.dz,H.zh=H.dz,H.zu=H.am;var B=/^([a-z0-9]+)/i;function J(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var W=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var r=t.supportedLocalesOf(e);if(0===r.length)throw new RangeError("Unsupported locale: "+e);if(n&&"cardinal"!==n.type)throw new RangeError('Only "cardinal" "type" is supported');this.$=H[$(r[0])]}var e,n,r;return e=t,r=[{key:"supportedLocalesOf",value:function(t){return"string"==typeof t&&(t=[t]),t.filter((function(t){return H[$(t)]}))}}],(n=[{key:"select",value:function(t){return this.$(t)}}])&&J(e.prototype,n),r&&J(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Y(t){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function G(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function K(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?G(Object(n),!0).forEach((function(e){Q(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Q(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Z(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var nt=["second","minute","hour","day","week","month","quarter","year"],rt=["auto","always"],ot=["long","short","narrow"],it=["lookup","best fit"],at=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};tt(this,t);var r=n.numeric,o=n.style,i=n.localeMatcher;if(this.numeric="always",this.style="long",this.localeMatcher="lookup",void 0!==r){if(rt.indexOf(r)<0)throw new RangeError('Invalid "numeric" option: '.concat(r));this.numeric=r}if(void 0!==o){if(ot.indexOf(o)<0)throw new RangeError('Invalid "style" option: '.concat(o));this.style=o}if(void 0!==i){if(it.indexOf(i)<0)throw new RangeError('Invalid "localeMatcher" option: '.concat(i));this.localeMatcher=i}if("string"==typeof e&&(e=[e]),e.push(U()),this.locale=t.supportedLocalesOf(e,{localeMatcher:this.localeMatcher})[0],!this.locale)throw new Error("No supported locale was found");W.supportedLocalesOf(this.locale).length>0?this.pluralRules=new W(this.locale):console.warn('"'.concat(this.locale,'" locale is not supported')),"undefined"!=typeof Intl&&Intl.NumberFormat?(this.numberFormat=new Intl.NumberFormat(this.locale),this.numberingSystem=this.numberFormat.resolvedOptions().numberingSystem):this.numberingSystem="latn",this.locale=V(this.locale,{localeMatcher:this.localeMatcher})}var e,n;return e=t,(n=[{key:"format",value:function(){var t=ft(arguments),e=X(t,2),n=e[0],r=e[1];return this.getRule(n,r).replace("{0}",this.formatNumber(Math.abs(n)))}},{key:"formatToParts",value:function(){var t=ft(arguments),e=X(t,2),n=e[0],r=e[1],o=this.getRule(n,r),i=o.indexOf("{0}");if(i<0)return[{type:"literal",value:o}];var a=[];return i>0&&a.push({type:"literal",value:o.slice(0,i)}),a=a.concat(this.formatNumberToParts(Math.abs(n)).map((function(t){return K(K({},t),{},{unit:r})}))),i+"{0}".length<o.length-1&&a.push({type:"literal",value:o.slice(i+"{0}".length)}),a}},{key:"getRule",value:function(t,e){var n,r=(n=this.locale,F[n])[this.style][e];if("string"==typeof r)return r;if("auto"===this.numeric)if(-2===t||-1===t){var o=r["previous".concat(-1===t?"":"-"+Math.abs(t))];if(o)return o}else if(1===t||2===t){var i=r["next".concat(1===t?"":"-"+Math.abs(t))];if(i)return i}else if(0===t&&r.current)return r.current;var a,u=r[(a=t,a<0||0===a&&function(t){return 1/t==-1/0}(a)?"past":"future")];return"string"==typeof u?u:u[this.pluralRules&&this.pluralRules.select(Math.abs(t))||"other"]||u.other}},{key:"formatNumber",value:function(t){return this.numberFormat?this.numberFormat.format(t):String(t)}},{key:"formatNumberToParts",value:function(t){return this.numberFormat&&this.numberFormat.formatToParts?this.numberFormat.formatToParts(t):[{type:"integer",value:this.formatNumber(t)}]}},{key:"resolvedOptions",value:function(){return{locale:this.locale,style:this.style,numeric:this.numeric,numberingSystem:this.numberingSystem}}}])&&et(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();at.supportedLocalesOf=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof t)t=[t];else if(!Array.isArray(t))throw new TypeError('Invalid "locales" argument');return t.filter((function(t){return V(t,e)}))},at.addLocale=function(t){if(!t)throw new Error("No locale data passed");F[t.locale]=t,L[t.locale.toLowerCase()]=t.locale},at.setDefaultLocale=function(t){D=t},at.getDefaultLocale=U,at.PluralRules=W;var ut='Invalid "unit" argument';function st(t){if("symbol"===Y(t))throw new TypeError(ut);if("string"!=typeof t)throw new RangeError("".concat(ut,": ").concat(t));if("s"===t[t.length-1]&&(t=t.slice(0,t.length-1)),nt.indexOf(t)<0)throw new RangeError("".concat(ut,": ").concat(t));return t}function ct(t){if(t=Number(t),Number.isFinite&&!Number.isFinite(t))throw new RangeError("".concat('Invalid "number" argument',": ").concat(t));return t}function ft(t){if(t.length<2)throw new TypeError('"unit" argument is required');return[ct(t[0]),st(t[1])]}function lt(t){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ht(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var mt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cache={}}var e,n;return e=t,(n=[{key:"get",value:function(){for(var t=this.cache,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var o=0,i=n;o<i.length;o++){var a=i[o];if("object"!==lt(t))return;t=t[a]}return t}},{key:"put",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=e.pop(),o=e.pop(),i=this.cache,a=0,u=e;a<u.length;a++){var s=u[a];"object"!==lt(i[s])&&(i[s]={}),i=i[s]}return i[o]=r}}])&&ht(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function dt(t){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pt(t,e){for(var n,r=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return vt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vt(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(t);!(n=r()).done;){var o=n.value;if(e(o))return o;for(var i=o.split("-");i.length>1;)if(i.pop(),e(o=i.join("-")))return o}throw new Error("No locale data has been registered for any of the locales: ".concat(t.join(", ")))}function yt(t){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var bt={}.constructor;function wt(t){switch(t){case"second":return 1;case"minute":return 60;case"hour":return 3600;case"day":return 86400;case"week":return 604800;case"month":return 2630016;case"year":return 31556952}}function gt(t){return void 0!==t.factor?t.factor:wt(t.unit||t.formatAs)||1}function jt(t){switch(t){case"floor":return Math.floor;default:return Math.round}}function Ot(t){switch(t){case"floor":return 1;default:return.5}}function St(t){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xt(t,e){var n,r=e.prevStep,o=e.timestamp,i=e.now,a=e.future,u=e.round;return r&&(r.id||r.unit)&&(n=t["threshold_for_".concat(r.id||r.unit)]),void 0===n&&void 0!==t.threshold&&"function"==typeof(n=t.threshold)&&(n=n(i,a)),void 0===n&&(n=t.minTime),"object"===St(n)&&(n=r&&r.id&&void 0!==n[r.id]?n[r.id]:n.default),"function"==typeof n&&(n=n(o,{future:a,getMinTimeForUnit:function(t,e){return kt(t,e||r&&r.formatAs,{round:u})}})),void 0===n&&t.test&&(n=t.test(o,{now:i,future:a})?0:9007199254740991),void 0===n&&(r?t.formatAs&&r.formatAs&&(n=kt(t.formatAs,r.formatAs,{round:u})):n=0),void 0===n&&console.warn("[javascript-time-ago] A step should specify `minTime`:\n"+JSON.stringify(t,null,2)),n}function kt(t,e,n){var r,o=n.round,i=wt(t);if(r=wt("now"===e?t:e),void 0!==i&&void 0!==r)return i-r*(1-Ot(o))}function At(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?At(Object(n),!0).forEach((function(e){Tt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Tt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Et(t,e,n){var r=n.now,o=n.future,i=n.round,a=n.getNextStep,u=function(t,e,n){var r=n.round;if(0!==t.length){var o=Nt(t,e,{now:n.now,future:n.future||e<0,round:r});if(-1!==o){var i=t[o];return i.granularity&&0==jt(r)(Math.abs(e)/gt(i)/i.granularity)*i.granularity&&o>0?t[o-1]:i}}}(t=function(t,e){return t.filter((function(t){var n=t.unit;return!(n=n||t.formatAs)||e.indexOf(n)>=0}))}(t,n.units),e,{now:r,future:o,round:i});return a?u?[t[t.indexOf(u)-1],u,t[t.indexOf(u)+1]]:[void 0,void 0,t[0]]:u}function Nt(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=xt(t[r],It({prevStep:t[r-1],timestamp:n.now-1e3*e},n));return void 0===o||Math.abs(e)<o?r-1:r===t.length-1?r:Nt(t,e,n,r+1)}function qt(t,e,n){var r=n.prevStep,o=n.nextStep,i=n.now,a=n.future,u=n.round,s=t.getTime?t.getTime():t,c=function(t){return function(t,e,n){var r=n.now,o=n.round;if(wt(t)){var i=1e3*wt(t),a=e>r,u=Math.abs(e-r),s=jt(o)(u/i)*i;return a?s>0?u-s+function(t,e){return(1-Ot(t))*e+1}(o,i):u-s+1:-(u-s)+function(t,e){return Ot(t)*e}(o,i)}}(t,s,{now:i,round:u})},f=function(t,e,n){var r=n.now,o=n.future;if(t){var i=function(t,e,n){var r=n.now,o=n.future,i=xt(t,{timestamp:e,now:r,future:o,round:n.round,prevStep:n.prevStep});if(void 0!==i)return o?e-1e3*i+1:0===i&&e===r?31536e9:e+1e3*i}(t,e,{now:r,future:o,round:n.round,prevStep:n.prevStep});if(void 0===i)return;return i-r}return o?e-r+1:31536e9}(a?e:o,s,{future:a,now:i,round:u,prevStep:a?r:e});if(void 0!==f){var l;if(e&&(e.getTimeToNextUpdate&&(l=e.getTimeToNextUpdate(s,{getTimeToNextUpdateForUnit:c,getRoundFunction:jt,now:i,future:a,round:u})),void 0===l)){var h=e.unit||e.formatAs;h&&(l=c(h))}return void 0===l?f:Math.min(l,f)}}var Mt={};function Ct(t){return Mt[t]}function Rt(t){if(!t)throw new Error("[javascript-time-ago] No locale data passed.");Mt[t.locale]=t}const zt={steps:[{formatAs:"now"},{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"},{formatAs:"day"},{formatAs:"week"},{formatAs:"month"},{formatAs:"year"}],labels:"long"};function Dt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ft(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Dt(Object(n),!0).forEach((function(e){Lt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Lt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const Ut=Ft(Ft({},zt),{},{steps:zt.steps.filter((function(t){return"second"!==t.formatAs}))}),Pt=[{factor:1,unit:"now"},{threshold:1,threshold_for_now:45.5,factor:1,unit:"second"},{threshold:45.5,factor:60,unit:"minute"},{threshold:150,granularity:5,factor:60,unit:"minute"},{threshold:1350,factor:1800,unit:"half-hour"},{threshold:2550,threshold_for_minute:3150,factor:3600,unit:"hour"},{threshold:73800,factor:86400,unit:"day"},{threshold:475200,factor:604800,unit:"week"},{threshold:2116800,factor:2630016,unit:"month"},{threshold:27615168,factor:31556952,unit:"year"}],Vt={gradation:Pt,flavour:"long",units:["now","minute","hour","day","week","month","year"]},_t={gradation:Pt,flavour:"long-time",units:["now","minute","hour","day","week","month","year"]};function Ht(t){return t instanceof Date?t:new Date(t)}var $t=[{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"}],Bt={},Jt={minTime:function(t,e){return(0,e.getMinTimeForUnit)("day")},format:function(t,e){return Bt[e]||(Bt[e]={}),Bt[e].dayMonth||(Bt[e].dayMonth=new Intl.DateTimeFormat(e,{month:"short",day:"numeric"})),Bt[e].dayMonth.format(Ht(t))}},Wt={minTime:function(t,e){return e.future?(t-(new Date(new Date(t).getFullYear(),0).getTime()-1))/1e3:(new Date(new Date(t).getFullYear()+1,0).getTime()-t)/1e3},format:function(t,e){return Bt[e]||(Bt[e]={}),Bt[e].dayMonthYear||(Bt[e].dayMonthYear=new Intl.DateTimeFormat(e,{year:"numeric",month:"short",day:"numeric"})),Bt[e].dayMonthYear.format(Ht(t))}};"object"===("undefined"==typeof Intl?"undefined":dt(Intl))&&"function"==typeof Intl.DateTimeFormat?$t.push(Jt,Wt):$t.push({formatAs:"day"},{formatAs:"week"},{formatAs:"month"},{formatAs:"year"});const Yt={steps:$t,labels:["mini","short-time","narrow","short"]};function Gt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Kt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Gt(Object(n),!0).forEach((function(e){Qt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Qt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const Xt=Kt(Kt({},Yt),{},{steps:[{formatAs:"now"}].concat(Yt.steps)});function Zt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function te(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zt(Object(n),!0).forEach((function(e){ee(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ee(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const ne=te(te({},Yt),{},{steps:Yt.steps.filter((function(t){return"second"!==t.formatAs}))});function re(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function oe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?re(Object(n),!0).forEach((function(e){ie(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ie(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const ae=oe(oe({},ne),{},{steps:[{formatAs:"now"}].concat(ne.steps)});function ue(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function se(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ue(Object(n),!0).forEach((function(e){ce(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ce(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const fe=se(se({},Yt),{},{steps:Yt.steps.filter((function(t){return"second"!==t.formatAs})).map((function(t){return"minute"===t.formatAs?se(se({},t),{},{minTime:60}):t}))}),le={steps:[{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"},{formatAs:"day"},{formatAs:"month"},{formatAs:"year"}],labels:["mini","short-time","narrow","short"]};function he(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function me(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?he(Object(n),!0).forEach((function(e){de(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function de(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const ve=me(me({},le),{},{steps:[{formatAs:"now"}].concat(le.steps)});function pe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ye(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pe(Object(n),!0).forEach((function(e){be(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function be(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const we=ye(ye({},le),{},{steps:le.steps.filter((function(t){return"second"!==t.formatAs}))});function ge(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function je(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ge(Object(n),!0).forEach((function(e){Oe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Oe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const Se=je(je({},we),{},{steps:[{formatAs:"now"}].concat(we.steps)});function xe(t){switch(t){case"default":case"round":return zt;case"round-minute":return Ut;case"approximate":return Vt;case"time":case"approximate-time":return _t;case"mini":return le;case"mini-now":return ve;case"mini-minute":return we;case"mini-minute-now":return Se;case"twitter":return Yt;case"twitter-now":return Xt;case"twitter-minute":return ne;case"twitter-minute-now":return ae;case"twitter-first-minute":return fe;default:return Vt}}function ke(t){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ae(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=Ie(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ie(t,e){if(t){if("string"==typeof t)return Te(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Te(t,e):void 0}}function Te(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var qe,Me=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.polyfill;Ee(this,t),"string"==typeof e&&(e=[e]),this.locale=pt(e.concat(t.getDefaultLocale()),Ct),"undefined"!=typeof Intl&&Intl.NumberFormat&&(this.numberFormat=new Intl.NumberFormat(this.locale)),!1===r?(this.IntlRelativeTimeFormat=Intl.RelativeTimeFormat,this.IntlPluralRules=Intl.PluralRules):(this.IntlRelativeTimeFormat=at,this.IntlPluralRules=at.PluralRules),this.relativeTimeFormatCache=new mt,this.pluralRulesCache=new mt}var e,n;return e=t,(n=[{key:"format",value:function(t,e,n){var r,o;n||(!e||"string"==typeof(r=e)||function(t){return void 0!==yt(t)&&null!==t&&t.constructor===bt}(o=r)&&(Array.isArray(o.steps)||Array.isArray(o.gradation)||Array.isArray(o.flavour)||"string"==typeof o.flavour||Array.isArray(o.labels)||"string"==typeof o.labels||Array.isArray(o.units)||"function"==typeof o.custom)?n={}:(n=e,e=void 0)),e||(e=Ut),"string"==typeof e&&(e=xe(e));var i,a=function(t){if(t.constructor===Date||"object"===ke(e=t)&&"function"==typeof e.getTime)return t.getTime();var e;if("number"==typeof t)return t;throw new Error("Unsupported relative time formatter input: ".concat(ke(t),", ").concat(t))}(t),u=this.getLabels(e.flavour||e.labels),s=u.labels,c=u.labelsType;void 0!==e.now&&(i=e.now),void 0===i&&void 0!==n.now&&(i=n.now),void 0===i&&(i=Date.now());var f=(i-a)/1e3,l=n.future||f<0,h=function(t,e,n,r){var o=t.now||e&&e.now;return o?"string"==typeof o?o:r?o.future:o.past:n&&n.second&&n.second.current?n.second.current:void 0}(s,Ct(this.locale).now,Ct(this.locale).long,l);if(e.custom){var m=e.custom({now:i,date:new Date(a),time:a,elapsed:f,locale:this.locale});if(void 0!==m)return m}var d,v,p=function(t,e,n){var r=Object.keys(e);return n&&r.push("now"),t&&(r=t.filter((function(t){return"now"===t||r.indexOf(t)>=0}))),r}(e.units,s,h),y=n.round||e.round,b=(d=Et(e.gradation||e.steps||Ut.steps,f,{now:i,units:p,round:y,future:l,getNextStep:!0}),v=3,function(t){if(Array.isArray(t))return t}(d)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(d,v)||Ie(d,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),w=b[0],g=b[1],j=b[2],O=this.formatDateForStep(a,g,f,{labels:s,labelsType:c,nowLabel:h,now:i,future:l,round:y})||"";return n.getTimeToNextUpdate?[O,qt(a,g,{nextStep:j,prevStep:w,now:i,future:l,round:y})]:O}},{key:"formatDateForStep",value:function(t,e,n,r){var o=this,i=r.labels,a=r.labelsType,u=r.nowLabel,s=r.future,c=r.round;if(e){if(e.format)return e.format(t,this.locale,{formatAs:function(t,e){return o.formatValue(e,t,{labels:i,future:s})},now:r.now,future:s});var f=e.unit||e.formatAs;if(!f)throw new Error("[javascript-time-ago] Each step must define either `formatAs` or `format()`. Step: ".concat(JSON.stringify(e)));if("now"===f)return u;var l=Math.abs(n)/gt(e);e.granularity&&(l=jt(c)(l/e.granularity)*e.granularity);var h=-1*Math.sign(n)*jt(c)(l);switch(0===h&&(h=s?0:-0),a){case"long":case"short":case"narrow":return this.getFormatter(a).format(h,f);default:return this.formatValue(h,f,{labels:i,future:s})}}}},{key:"formatValue",value:function(t,e,n){return this.getFormattingRule(n.labels,e,t,{future:n.future}).replace("{0}",this.formatNumber(Math.abs(t)))}},{key:"getFormattingRule",value:function(t,e,n,r){if("string"==typeof(t=t[e]))return t;var o=t[0===n?r.future?"future":"past":n<0?"past":"future"]||t;return"string"==typeof o?o:o[this.getPluralRules().select(Math.abs(n))]||o.other}},{key:"formatNumber",value:function(t){return this.numberFormat?this.numberFormat.format(t):String(t)}},{key:"getFormatter",value:function(t){return this.relativeTimeFormatCache.get(this.locale,t)||this.relativeTimeFormatCache.put(this.locale,t,new this.IntlRelativeTimeFormat(this.locale,{style:t}))}},{key:"getPluralRules",value:function(){return this.pluralRulesCache.get(this.locale)||this.pluralRulesCache.put(this.locale,new this.IntlPluralRules(this.locale))}},{key:"getLabels",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];"string"==typeof t&&(t=[t]),t=(t=t.map((function(t){switch(t){case"tiny":case"mini-time":return"mini";default:return t}}))).concat("long");for(var e,n=Ct(this.locale),r=Ae(t);!(e=r()).done;){var o=e.value;if(n[o])return{labelsType:o,labels:n[o]}}}}])&&Ne(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Ce="en";Me.getDefaultLocale=function(){return Ce},Me.setDefaultLocale=function(t){return Ce=t},Me.addDefaultLocale=function(t){if(qe)return console.error("[javascript-time-ago] `TimeAgo.addDefaultLocale()` can only be called once. To add other locales, use `TimeAgo.addLocale()`.");qe=!0,Me.setDefaultLocale(t.locale),Me.addLocale(t)},Me.addLocale=function(t){Rt(t),at.addLocale(t)},Me.locale=Me.addLocale,Me.addLabels=function(t,e,n){var r=Ct(t);r||(Rt({locale:t}),r=Ct(t)),r[e]=n},Me.addDefaultLocale({locale:"en",long:{year:{previous:"last year",current:"this year",next:"next year",past:{one:"{0} year ago",other:"{0} years ago"},future:{one:"in {0} year",other:"in {0} years"}},quarter:{previous:"last quarter",current:"this quarter",next:"next quarter",past:{one:"{0} quarter ago",other:"{0} quarters ago"},future:{one:"in {0} quarter",other:"in {0} quarters"}},month:{previous:"last month",current:"this month",next:"next month",past:{one:"{0} month ago",other:"{0} months ago"},future:{one:"in {0} month",other:"in {0} months"}},week:{previous:"last week",current:"this week",next:"next week",past:{one:"{0} week ago",other:"{0} weeks ago"},future:{one:"in {0} week",other:"in {0} weeks"}},day:{previous:"yesterday",current:"today",next:"tomorrow",past:{one:"{0} day ago",other:"{0} days ago"},future:{one:"in {0} day",other:"in {0} days"}},hour:{current:"this hour",past:{one:"{0} hour ago",other:"{0} hours ago"},future:{one:"in {0} hour",other:"in {0} hours"}},minute:{current:"this minute",past:{one:"{0} minute ago",other:"{0} minutes ago"},future:{one:"in {0} minute",other:"in {0} minutes"}},second:{current:"now",past:{one:"{0} second ago",other:"{0} seconds ago"},future:{one:"in {0} second",other:"in {0} seconds"}}},short:{year:{previous:"last yr.",current:"this yr.",next:"next yr.",past:"{0} yr. ago",future:"in {0} yr."},quarter:{previous:"last qtr.",current:"this qtr.",next:"next qtr.",past:{one:"{0} qtr. ago",other:"{0} qtrs. ago"},future:{one:"in {0} qtr.",other:"in {0} qtrs."}},month:{previous:"last mo.",current:"this mo.",next:"next mo.",past:"{0} mo. ago",future:"in {0} mo."},week:{previous:"last wk.",current:"this wk.",next:"next wk.",past:"{0} wk. ago",future:"in {0} wk."},day:{previous:"yesterday",current:"today",next:"tomorrow",past:{one:"{0} day ago",other:"{0} days ago"},future:{one:"in {0} day",other:"in {0} days"}},hour:{current:"this hour",past:"{0} hr. ago",future:"in {0} hr."},minute:{current:"this minute",past:"{0} min. ago",future:"in {0} min."},second:{current:"now",past:"{0} sec. ago",future:"in {0} sec."}},narrow:{year:{previous:"last yr.",current:"this yr.",next:"next yr.",past:"{0}y ago",future:"in {0}y"},quarter:{previous:"last qtr.",current:"this qtr.",next:"next qtr.",past:"{0}q ago",future:"in {0}q"},month:{previous:"last mo.",current:"this mo.",next:"next mo.",past:"{0}mo ago",future:"in {0}mo"},week:{previous:"last wk.",current:"this wk.",next:"next wk.",past:"{0}w ago",future:"in {0}w"},day:{previous:"yesterday",current:"today",next:"tomorrow",past:"{0}d ago",future:"in {0}d"},hour:{current:"this hour",past:"{0}h ago",future:"in {0}h"},minute:{current:"this minute",past:"{0}m ago",future:"in {0}m"},second:{current:"now",past:"{0}s ago",future:"in {0}s"}},now:{now:{current:"now",future:"in a moment",past:"just now"}},mini:{year:"{0}yr",month:"{0}mo",week:"{0}wk",day:"{0}d",hour:"{0}h",minute:"{0}m",second:"{0}s",now:"now"},"short-time":{year:"{0} yr.",month:"{0} mo.",week:"{0} wk.",day:{one:"{0} day",other:"{0} days"},hour:"{0} hr.",minute:"{0} min.",second:"{0} sec."},"long-time":{year:{one:"{0} year",other:"{0} years"},month:{one:"{0} month",other:"{0} months"},week:{one:"{0} week",other:"{0} weeks"},day:{one:"{0} day",other:"{0} days"},hour:{one:"{0} hour",other:"{0} hours"},minute:{one:"{0} minute",other:"{0} minutes"},second:{one:"{0} second",other:"{0} seconds"}}});class Re{constructor(){this.timeAgo=new Me("en-US")}format(t){return this.timeAgo.format(t)}}class ze{share(t,{currentTime:e}){p(!1),y.update({copiedLink:""}),b({currentTime:e})}}class De{notify(t,e){S({text:t,buttons:e})}}const Fe={open(t){w(t)},close(){w(void 0)}},Le={init(t){"mediaSession"in navigator&&(window.navigator.mediaSession.metadata=new MediaMetadata({title:t.title,artist:t.author,artwork:t.images}))}};let Ue=class{constructor(t){e(this,t),this.skipSegments=[],this.routeChange$=new T,this.component=x(this),this.share=async()=>{var t;const e=null!==(t=await this.videoPlayer.currentTime())&&void 0!==t?t:0;(function(){let t;return t=new ze,t})().share(this.stream,{currentTime:e})},this.handleVideoClick=t=>{new d(this.history).showVideoPage(t)},this.handleViewPlaylist=()=>{new d(this.history).showPlaylistPage()},this.handleAddPlaylist=()=>{O({thumbnail:this.stream.thumbnail,title:this.stream.title,uploadedDate:this.stream.uploadDate,uploaderAvatar:this.stream.uploaderAvatar,uploaderName:this.stream.uploader,videoId:this.stream.id}).pipe(E(1)).subscribe(),(new De).notify("Added in Watch Later",[{text:"View",clickHandler:this.handleViewPlaylist}])},this.areCommentsHidden=!1,this.handleCloseComments=()=>{this.areCommentsHidden=!0},this.viewCommentsEvent=k(),this.handleFindActiveServer=()=>{A().pipe(E(1)).subscribe((async t=>{for(const e of t){i.update({loading:{message:`Trying server ${e.name}...`},error:void 0});try{await N(this.testServer(e)),I.set(e),window.location.reload()}catch(t){continue}}i.update({loading:void 0,error:{message:"Sorry, all Servers are down now. Please try finding server again, as servers are warming up",buttons:[{text:"Find Active Server",icon:u,clickHandler:this.handleFindActiveServer}]}})}))}}get videoId(){return this.match.params.videoId}componentWillLoad(){const t=this.videoId;this.history.listen((t=>{const{pathname:e,query:n}=t;if(!e.includes("videos"))return;const r=null==n?void 0:n.t,o=e.split("/").pop();this.routeChange$.next({videoId:o,time:r})})),this.component.subscribe(this.routeChange$,(({videoId:t,time:e})=>{t===this.stream.id?this.setCurrentTime(e):this.fetchVideo(t)})),this.component.subscribe(g.asObservable(),(t=>{this.commentsView=t.commentsView})),this.component.subscribe(y.asObservable(),(t=>{this.shareForm=t.shareForm}));const e=this.viewCommentsEvent.$.pipe(M((()=>({videoId:this.videoId}))),C((t=>{this.areCommentsHidden=!1,w(t)})),j);this.component.justSubscribe(e),this.fetchVideo(t)}get isCommentsOpen(){return!!this.commentsView}fetchVideo(t){if(Fe.close(),!t)return;i.update({loading:{}}),window.scrollTo({top:0,behavior:"smooth"}),o.getApi().getSkipSegments(t).subscribe((t=>{this.skipSegments=t}));const e=o.getApi().getStream(t);this.component.subscribe(e,{next:t=>{this.stream=t,i.update({loading:void 0}),Le.init({title:t.title,author:t.uploader,images:[{src:t.thumbnail,type:"image/webp"}]})},error:()=>{i.update({loading:void 0,error:{message:"Failed to load video. Please try below actions.",buttons:[{text:"Retry",icon:s,clickHandler:()=>{window.location.reload()}},{text:"Find Active Server",icon:u,clickHandler:this.handleFindActiveServer}]}})}})}get views(){return Pe.format(this.stream.views)+" views"}get videoInfo(){return this.views+" ‧ "+this.timeAgo}get timeAgo(){return(new Re).format(new Date(this.stream.uploadDate))}setCurrentTime(t){t&&(this.videoPlayer.currentTime(t),function(){const t=location.href.split("?")[0];window.history.replaceState({path:t},"",t)}())}handleVideoPlayerLoaded(){this.setCurrentTime(this.history.location.query.t)}render(){var e;return t(r,null,t("div",{class:"video-page"},t("page-header",{history:this.history}),this.stream&&t(n,null,t("video-player",{sources:this.stream.sources,ref:t=>{this.videoPlayer=t},onLoaded:()=>{this.handleVideoPlayerLoaded()},skipSegments:this.skipSegments}),t("h3",null,this.stream.title)),this.stream&&t("div",{class:"below-video"},t("div",{class:"video-info"},this.videoInfo),t(z,{video:this.stream}),t("div",{class:"actions"},t("icon-btn",{icon:c,label:Pe.format(this.stream.likes),disabled:!0}),t("icon-btn",{icon:f,label:Pe.format(this.stream.dislikes),disabled:!0}),t("icon-btn",{icon:l,label:"Add to Playlist",onBtnClicked:this.handleAddPlaylist}),t("icon-btn",{icon:h,onBtnClicked:this.share,label:"Share"}),this.shareForm&&t("share-form",{video:this.stream})),t("icon-btn",{class:"view-comments",size:"small",icon:m,label:"View Comments",type:"secondary",onBtnClicked:this.viewCommentsEvent.handler}),this.isCommentsOpen&&t("comments-view",{class:this.areCommentsHidden?"hide":"",closeCallback:this.handleCloseComments}),!!(null===(e=this.stream.relatedVideos)||void 0===e?void 0:e.length)&&t("h3",{class:"suggestion-header"},"You may also like"),t(v,{preloadStream:!0,videos:this.stream.relatedVideos,isShowingSuggestions:!1,onClickVideo:this.handleVideoClick}))))}testServer(t){return o.getApi({baseUrl:t.apiUrl}).getStream(this.videoId).pipe(q(500)).pipe(M((()=>{})))}};const Pe=Intl.NumberFormat("en",{notation:"compact"});Ue.style="@keyframes gradient{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}.video-page{height:100vh;display:flex;flex-direction:column}.video-page h3{margin:16px}.error-template{padding:16px;text-align:center}.error-template .action-btns{margin-top:40px;display:flex;justify-content:space-evenly}h3{margin:16px 0;font-size:1.1rem}.actions{display:flex;justify-content:space-evenly}.video-info{margin-left:16px;font-size:0.8rem}.uploader-info{margin:10px 0;margin-left:6px;display:grid;grid-template-columns:50px max-content max-content;align-items:center}.uploader-info .info{display:flex;align-items:baseline}.uploader-info .info>x-icon{font-size:0.9rem;margin-left:2px}.uploader-info img{padding:0 10px;border-radius:50%;height:30px;width:30px}.uploader-info h3,.uploader-info h4{margin:0}.uploader-info h3{font-size:0.9rem}.uploader-info h4{font-size:0.8rem;padding-left:10px}.share-form .share-actions{display:flex;justify-content:space-evenly}video-player .container{max-height:80vh}@media only screen and (min-width: 768px){.suggestion-header{display:none}}.view-comments{margin:auto;margin-top:16px}@media only screen and (min-width: 768px){.view-comments{display:none}}.below-video{flex:1;display:flex;flex-direction:column;overflow-y:auto;border-top-left-radius:15px;border-top-right-radius:15px}@media only screen and (min-width: 768px){.below-video{overflow-y:initial}}comments-view{position:absolute;width:100%;height:-webkit-fill-available;z-index:5}@media only screen and (min-width: 768px){comments-view{display:none}}comments-view.hide{visibility:hidden}";export{Ue as video_page}