import{A as r,a as n,b as t,i as e,m as o,c as i,d as u,Y as f,e as c,t as a,n as s}from"./p-0f8eda08.js";import{R as v}from"./p-954d5885.js";import{o as l,c as d,e as b,i as h,f as y,p as m,b as p,m as w,s as g,d as j,g as O}from"./p-7b8d1737.js";import{c as S,O as E}from"./p-5304e58c.js";import{S as A}from"./p-c96f589c.js";const P=new class extends n{}(class extends r{constructor(r,n){super(r,n),this.scheduler=r,this.work=n}schedule(r,n=0){return n>0?super.schedule(r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)}execute(r,n){return n>0||this.closed?super.execute(r,n):this._execute(r,n)}requestAsyncId(r,n,t=0){return null!=t&&t>0||null==t&&this.delay>0?super.requestAsyncId(r,n,t):(r.flush(this),0)}}),x=S((r=>function(n=null){r(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=n}));function C(r){throw new x(r)}function R(...r){return o(1)(y(r,m(r)))}function T(r,n){return l(((t,e)=>{let o=0;t.subscribe(d(e,(t=>r.call(n,t,o++)&&e.next(t))))}))}function _(r,n=t){return l(((t,e)=>{let o=null,i=null,u=null;const f=()=>{if(o){o.unsubscribe(),o=null;const r=i;i=null,e.next(r)}};function c(){const t=u+r,i=n.now();if(i<t)return o=this.schedule(void 0,t-i),void e.add(o);f()}t.subscribe(d(e,(t=>{i=t,u=n.now(),o||(o=n.schedule(c,r),e.add(o))}),(()=>{f(),e.complete()}),void 0,(()=>{i=o=null})))}))}function k(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];throw Error("[Immer] minified error nr: "+r+(t.length?" "+t.map((function(r){return"'"+r+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function L(r){return!!r&&!!r[wr]}function N(r){var n;return!!r&&(function(r){if(!r||"object"!=typeof r)return!1;var n=Object.getPrototypeOf(r);if(null===n)return!0;var t=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return t===Object||"function"==typeof t&&Function.toString.call(t)===gr}(r)||Array.isArray(r)||!!r[pr]||!!(null===(n=r.constructor)||void 0===n?void 0:n[pr])||K(r)||$(r))}function I(r,n,t){void 0===t&&(t=!1),0===M(r)?(t?Object.keys:jr)(r).forEach((function(e){t&&"symbol"==typeof e||n(e,r[e],r)})):r.forEach((function(t,e){return n(e,t,r)}))}function M(r){var n=r[wr];return n?n.i>3?n.i-4:n.i:Array.isArray(r)?1:K(r)?2:$(r)?3:0}function F(r,n){return 2===M(r)?r.has(n):Object.prototype.hasOwnProperty.call(r,n)}function q(r,n,t){var e=M(r);2===e?r.set(n,t):3===e?r.add(t):r[n]=t}function B(r,n){return r===n?0!==r||1/r==1/n:r!=r&&n!=n}function K(r){return br&&r instanceof Map}function $(r){return hr&&r instanceof Set}function D(r){return r.o||r.t}function V(r){if(Array.isArray(r))return Array.prototype.slice.call(r);var n=Or(r);delete n[wr];for(var t=jr(n),e=0;e<t.length;e++){var o=t[e],i=n[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(n[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:r[o]})}return Object.create(Object.getPrototypeOf(r),n)}function W(r,n){return void 0===n&&(n=!1),Y(r)||L(r)||!N(r)||(M(r)>1&&(r.set=r.add=r.clear=r.delete=U),Object.freeze(r),n&&I(r,(function(r,n){return W(n,!0)}),!0)),r}function U(){k(2)}function Y(r){return null==r||"object"!=typeof r||Object.isFrozen(r)}function J(r){var n=Sr[r];return n||k(18,r),n}function X(){return lr}function z(r,n){n&&(J("Patches"),r.u=[],r.s=[],r.v=n)}function G(r){H(r),r.p.forEach(Z),r.p=null}function H(r){r===lr&&(lr=r.l)}function Q(r){return lr={p:[],l:lr,h:r,m:!0,_:0}}function Z(r){var n=r[wr];0===n.i||1===n.i?n.j():n.g=!0}function rr(r,n){n._=n.p.length;var t=n.p[0],e=void 0!==r&&r!==t;return n.h.O||J("ES5").S(n,r,e),e?(t[wr].P&&(G(n),k(4)),N(r)&&(r=nr(n,r),n.l||er(n,r)),n.u&&J("Patches").M(t[wr].t,r,n.u,n.s)):r=nr(n,t,[]),G(n),n.u&&n.v(n.u,n.s),r!==mr?r:void 0}function nr(r,n,t){if(Y(n))return n;var e=n[wr];if(!e)return I(n,(function(o,i){return tr(r,e,n,o,i,t)}),!0),n;if(e.A!==r)return n;if(!e.P)return er(r,e.t,!0),e.t;if(!e.I){e.I=!0,e.A._--;var o=4===e.i||5===e.i?e.o=V(e.k):e.o,i=o,u=!1;3===e.i&&(i=new Set(o),o.clear(),u=!0),I(i,(function(n,i){return tr(r,e,o,n,i,t,u)})),er(r,o,!1),t&&r.u&&J("Patches").N(e,t,r.u,r.s)}return e.o}function tr(r,n,t,e,o,i,u){if(L(o)){var f=nr(r,o,i&&n&&3!==n.i&&!F(n.R,e)?i.concat(e):void 0);if(q(t,e,f),!L(f))return;r.m=!1}else u&&t.add(o);if(N(o)&&!Y(o)){if(!r.h.D&&r._<1)return;nr(r,o),n&&n.A.l||er(r,o)}}function er(r,n,t){void 0===t&&(t=!1),!r.l&&r.h.D&&r.m&&W(n,t)}function or(r,n){var t=r[wr];return(t?D(t):r)[n]}function ir(r,n){if(n in r)for(var t=Object.getPrototypeOf(r);t;){var e=Object.getOwnPropertyDescriptor(t,n);if(e)return e;t=Object.getPrototypeOf(t)}}function ur(r){r.P||(r.P=!0,r.l&&ur(r.l))}function fr(r){r.o||(r.o=V(r.t))}function cr(r,n,t){var e=K(n)?J("MapSet").F(n,t):$(n)?J("MapSet").T(n,t):r.O?function(r,n){var t=Array.isArray(r),e={i:t?1:0,A:n?n.A:X(),P:!1,I:!1,R:{},l:n,t:r,k:null,o:null,j:null,C:!1},o=e,i=Er;t&&(o=[e],i=Ar);var u=Proxy.revocable(o,i),f=u.revoke,c=u.proxy;return e.k=c,e.j=f,c}(n,t):J("ES5").J(n,t);return(t?t.A:X()).p.push(e),e}function ar(r){return L(r)||k(22,r),function r(n){if(!N(n))return n;var t,e=n[wr],o=M(n);if(e){if(!e.P&&(e.i<4||!J("ES5").K(e)))return e.t;e.I=!0,t=sr(n,o),e.I=!1}else t=sr(n,o);return I(t,(function(n,o){e&&function(r,n){return 2===M(r)?r.get(n):r[n]}(e.t,n)===o||q(t,n,r(o))})),3===o?new Set(t):t}(r)}function sr(r,n){switch(n){case 2:return new Map(r);case 3:return Array.from(r)}return V(r)}var vr,lr,dr="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),br="undefined"!=typeof Map,hr="undefined"!=typeof Set,yr="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,mr=dr?Symbol.for("immer-nothing"):((vr={})["immer-nothing"]=!0,vr),pr=dr?Symbol.for("immer-draftable"):"__$immer_draftable",wr=dr?Symbol.for("immer-state"):"__$immer_state",gr=""+Object.prototype.constructor,jr="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:Object.getOwnPropertyNames,Or=Object.getOwnPropertyDescriptors||function(r){var n={};return jr(r).forEach((function(t){n[t]=Object.getOwnPropertyDescriptor(r,t)})),n},Sr={},Er={get:function(r,n){if(n===wr)return r;var t=D(r);if(!F(t,n))return function(r,n,t){var e,o=ir(n,t);return o?"value"in o?o.value:null===(e=o.get)||void 0===e?void 0:e.call(r.k):void 0}(r,t,n);var e=t[n];return r.I||!N(e)?e:e===or(r.t,n)?(fr(r),r.o[n]=cr(r.A.h,e,r)):e},has:function(r,n){return n in D(r)},ownKeys:function(r){return Reflect.ownKeys(D(r))},set:function(r,n,t){var e=ir(D(r),n);if(null==e?void 0:e.set)return e.set.call(r.k,t),!0;if(!r.P){var o=or(D(r),n),i=null==o?void 0:o[wr];if(i&&i.t===t)return r.o[n]=t,r.R[n]=!1,!0;if(B(t,o)&&(void 0!==t||F(r.t,n)))return!0;fr(r),ur(r)}return r.o[n]===t&&(void 0!==t||n in r.o)||Number.isNaN(t)&&Number.isNaN(r.o[n])||(r.o[n]=t,r.R[n]=!0),!0},deleteProperty:function(r,n){return void 0!==or(r.t,n)||n in r.t?(r.R[n]=!1,fr(r),ur(r)):delete r.R[n],r.o&&delete r.o[n],!0},getOwnPropertyDescriptor:function(r,n){var t=D(r),e=Reflect.getOwnPropertyDescriptor(t,n);return e?{writable:!0,configurable:1!==r.i||"length"!==n,enumerable:e.enumerable,value:t[n]}:e},defineProperty:function(){k(11)},getPrototypeOf:function(r){return Object.getPrototypeOf(r.t)},setPrototypeOf:function(){k(12)}},Ar={};I(Er,(function(r,n){Ar[r]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}})),Ar.deleteProperty=function(r,n){return Ar.set.call(this,r,n,void 0)},Ar.set=function(r,n,t){return Er.set.call(this,r[0],n,t,r[0])};var Pr=new(function(){function r(r){var n=this;this.O=yr,this.D=!0,this.produce=function(r,t,e){if("function"==typeof r&&"function"!=typeof t){var o=t;t=r;var i=n;return function(r){var n=this;void 0===r&&(r=o);for(var e=arguments.length,u=Array(e>1?e-1:0),f=1;f<e;f++)u[f-1]=arguments[f];return i.produce(r,(function(r){var e;return(e=t).call.apply(e,[n,r].concat(u))}))}}var u;if("function"!=typeof t&&k(6),void 0!==e&&"function"!=typeof e&&k(7),N(r)){var f=Q(n),c=cr(n,r,void 0),a=!0;try{u=t(c),a=!1}finally{a?G(f):H(f)}return"undefined"!=typeof Promise&&u instanceof Promise?u.then((function(r){return z(f,e),rr(r,f)}),(function(r){throw G(f),r})):(z(f,e),rr(u,f))}if(!r||"object"!=typeof r){if(void 0===(u=t(r))&&(u=r),u===mr&&(u=void 0),n.D&&W(u,!0),e){var s=[],v=[];J("Patches").M(r,u,s,v),e(s,v)}return u}k(21,r)},this.produceWithPatches=function(r,t){if("function"==typeof r)return function(t){for(var e=arguments.length,o=Array(e>1?e-1:0),i=1;i<e;i++)o[i-1]=arguments[i];return n.produceWithPatches(t,(function(n){return r.apply(void 0,[n].concat(o))}))};var e,o,i=n.produce(r,t,(function(r,n){e=r,o=n}));return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(r){return[r,e,o]})):[i,e,o]},"boolean"==typeof(null==r?void 0:r.useProxies)&&this.setUseProxies(r.useProxies),"boolean"==typeof(null==r?void 0:r.autoFreeze)&&this.setAutoFreeze(r.autoFreeze)}var n=r.prototype;return n.createDraft=function(r){N(r)||k(8),L(r)&&(r=ar(r));var n=Q(this),t=cr(this,r,void 0);return t[wr].C=!0,H(n),t},n.finishDraft=function(r,n){var t=(r&&r[wr]).A;return z(t,n),rr(void 0,t)},n.setAutoFreeze=function(r){this.D=r},n.setUseProxies=function(r){r&&!yr&&k(20),this.O=r},n.applyPatches=function(r,n){var t;for(t=n.length-1;t>=0;t--){var e=n[t];if(0===e.path.length&&"replace"===e.op){r=e.value;break}}t>-1&&(n=n.slice(t+1));var o=J("Patches").$;return L(r)?o(r,n):this.produce(r,(function(r){return o(r,n)}))},r}()),xr=Pr.produce;function Cr(r){return(Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function Rr(r,n,t){return(n=function(r){var n=function(r,n){if("object"!==Cr(r)||null===r)return r;var t=r[Symbol.toPrimitive];if(void 0!==t){var e=t.call(r,n);if("object"!==Cr(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r,"string");return"symbol"===Cr(n)?n:String(n)}(n))in r?Object.defineProperty(r,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[n]=t,r}function Tr(r,n){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(r);n&&(e=e.filter((function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),t.push.apply(t,e)}return t}function _r(r){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Tr(Object(t),!0).forEach((function(n){Rr(r,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Tr(Object(t)).forEach((function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))}))}return r}function kr(r){return"Minified Redux error #"+r+"; visit https://redux.js.org/Errors?code="+r+" for the full message or use the non-minified dev environment for full errors. "}Pr.produceWithPatches.bind(Pr),Pr.setAutoFreeze.bind(Pr),Pr.setUseProxies.bind(Pr),Pr.applyPatches.bind(Pr),Pr.createDraft.bind(Pr),Pr.finishDraft.bind(Pr);var Lr="function"==typeof Symbol&&Symbol.observable||"@@observable",Nr=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ir={INIT:"@@redux/INIT"+Nr(),REPLACE:"@@redux/REPLACE"+Nr(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Nr()}};function Mr(r){if("object"!=typeof r||null===r)return!1;for(var n=r;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}function Fr(r,n,t){var e;if("function"==typeof n&&"function"==typeof t||"function"==typeof t&&"function"==typeof arguments[3])throw new Error(kr(0));if("function"==typeof n&&void 0===t&&(t=n,n=void 0),void 0!==t){if("function"!=typeof t)throw new Error(kr(1));return t(Fr)(r,n)}if("function"!=typeof r)throw new Error(kr(2));var o=r,i=n,u=[],f=u,c=!1;function a(){f===u&&(f=u.slice())}function s(){if(c)throw new Error(kr(3));return i}function v(r){if("function"!=typeof r)throw new Error(kr(4));if(c)throw new Error(kr(5));var n=!0;return a(),f.push(r),function(){if(n){if(c)throw new Error(kr(6));n=!1,a();var t=f.indexOf(r);f.splice(t,1),u=null}}}function l(r){if(!Mr(r))throw new Error(kr(7));if(void 0===r.type)throw new Error(kr(8));if(c)throw new Error(kr(9));try{c=!0,i=o(i,r)}finally{c=!1}for(var n=u=f,t=0;t<n.length;t++)(0,n[t])();return r}function d(r){if("function"!=typeof r)throw new Error(kr(10));o=r,l({type:Ir.REPLACE})}function b(){var r,n=v;return(r={subscribe:function(r){if("object"!=typeof r||null===r)throw new Error(kr(11));function t(){r.next&&r.next(s())}return t(),{unsubscribe:n(t)}}})[Lr]=function(){return this},r}return l({type:Ir.INIT}),(e={dispatch:l,subscribe:v,getState:s,replaceReducer:d})[Lr]=b,e}function qr(){for(var r=arguments.length,n=new Array(r),t=0;t<r;t++)n[t]=arguments[t];return 0===n.length?function(r){return r}:1===n.length?n[0]:n.reduce((function(r,n){return function(){return r(n.apply(void 0,arguments))}}))}function Br(){for(var r=arguments.length,n=new Array(r),t=0;t<r;t++)n[t]=arguments[t];return function(r){return function(){var t=r.apply(void 0,arguments),e=function(){throw new Error(kr(15))},o={getState:t.getState,dispatch:function(){return e.apply(void 0,arguments)}},i=n.map((function(r){return r(o)}));return e=qr.apply(void 0,i)(t.dispatch),_r(_r({},t),{},{dispatch:e})}}}function Kr(r){return function(n){var t=n.dispatch,e=n.getState;return function(n){return function(o){return"function"==typeof o?o(t,e,r):n(o)}}}}var $r=Kr();$r.withExtraArgument=Kr;var Dr,Vr=(Dr=function(r,n){return(Dr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])})(r,n)},function(r,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=r}Dr(r,n),r.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),Wr=function(r,n){for(var t=0,e=n.length,o=r.length;t<e;t++,o++)r[o]=n[t];return r},Ur=Object.defineProperty,Yr=Object.getOwnPropertySymbols,Jr=Object.prototype.hasOwnProperty,Xr=Object.prototype.propertyIsEnumerable,zr=function(r,n,t){return n in r?Ur(r,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[n]=t},Gr=function(r,n){for(var t in n||(n={}))Jr.call(n,t)&&zr(r,t,n[t]);if(Yr)for(var e=0,o=Yr(n);e<o.length;e++)Xr.call(n,t=o[e])&&zr(r,t,n[t]);return r},Hr="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?qr:qr.apply(null,arguments)},Qr=function(r){function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o=r.apply(this,t)||this;return Object.setPrototypeOf(o,n.prototype),o}return Vr(n,r),Object.defineProperty(n,Symbol.species,{get:function(){return n},enumerable:!1,configurable:!0}),n.prototype.concat=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return r.prototype.concat.apply(this,n)},n.prototype.prepend=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return 1===r.length&&Array.isArray(r[0])?new(n.bind.apply(n,Wr([void 0],r[0].concat(this)))):new(n.bind.apply(n,Wr([void 0],r.concat(this))))},n}(Array),Zr=function(r){function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o=r.apply(this,t)||this;return Object.setPrototypeOf(o,n.prototype),o}return Vr(n,r),Object.defineProperty(n,Symbol.species,{get:function(){return n},enumerable:!1,configurable:!0}),n.prototype.concat=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return r.prototype.concat.apply(this,n)},n.prototype.prepend=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return 1===r.length&&Array.isArray(r[0])?new(n.bind.apply(n,Wr([void 0],r[0].concat(this)))):new(n.bind.apply(n,Wr([void 0],r.concat(this))))},n}(Array);function rn(r){return N(r)?xr(r,(function(){})):r}function nn(r,n){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(n){var o=n.apply(void 0,t);if(!o)throw new Error("prepareAction did not return an object");return Gr(Gr({type:r,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:r,payload:t[0]}}return t.toString=function(){return""+r},t.type=r,t.match=function(n){return n.type===r},t}function tn(r){var n,t={},e=[],o={addCase:function(r,n){var e="string"==typeof r?r:r.type;if(e in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[e]=n,o},addMatcher:function(r,n){return e.push({matcher:r,reducer:n}),o},addDefaultCase:function(r){return n=r,o}};return r(o),[t,e,n]}function en(r){var n=r.name;if(!n)throw new Error("`name` is a required option for createSlice");var t,e="function"==typeof r.initialState?r.initialState:rn(r.initialState),o=r.reducers||{},i=Object.keys(o),u={},f={},c={};function a(){var n="function"==typeof r.extraReducers?tn(r.extraReducers):[r.extraReducers],t=n[0],o=n[1],i=void 0===o?[]:o,u=n[2],c=void 0===u?void 0:u,a=Gr(Gr({},void 0===t?{}:t),f);return function(r,n,t){void 0===t&&(t=[]);var e,o=tn(n),i=o[0],u=o[1],f=o[2];if(function(r){return"function"==typeof r}(r))e=function(){return rn(r())};else{var c=rn(r);e=function(){return c}}function a(r,n){void 0===r&&(r=e());var t=Wr([i[n.type]],u.filter((function(r){return(0,r.matcher)(n)})).map((function(r){return r.reducer})));return 0===t.filter((function(r){return!!r})).length&&(t=[f]),t.reduce((function(r,t){if(t){var e;if(L(r))return void 0===(e=t(r,n))?r:e;if(N(r))return xr(r,(function(r){return t(r,n)}));if(void 0===(e=t(r,n))){if(null===r)return r;throw Error("A case reducer on a non-draftable value must not return undefined")}return e}return r}),r)}return a.getInitialState=e,a}(e,(function(r){for(var n in a)r.addCase(n,a[n]);for(var t=0,e=i;t<e.length;t++){var o=e[t];r.addMatcher(o.matcher,o.reducer)}c&&r.addDefaultCase(c)}))}return i.forEach((function(r){var t,e,i=o[r],a=n+"/"+r;"reducer"in i?(t=i.reducer,e=i.prepare):t=i,u[r]=t,f[a]=t,c[r]=e?nn(a,e):nn(a)})),{name:n,reducer:function(r,n){return t||(t=a()),t(r,n)},actions:c,caseReducers:u,getInitialState:function(){return t||(t=a()),t.getInitialState()}}}var on="listenerMiddleware";nn(on+"/add"),nn(on+"/removeAll"),nn(on+"/remove"),"function"==typeof queueMicrotask&&queueMicrotask.bind("undefined"!=typeof window?window:"undefined"!=typeof global?global:globalThis),function(){function r(r,n){var t=o[r];return t?t.enumerable=n:o[r]=t={configurable:!0,enumerable:n,get:function(){return Er.get(this[wr],r)},set:function(n){Er.set(this[wr],r,n)}},t}function n(r){for(var n=r.length-1;n>=0;n--){var o=r[n][wr];if(!o.P)switch(o.i){case 5:e(o)&&ur(o);break;case 4:t(o)&&ur(o)}}}function t(r){for(var n=r.t,t=r.k,e=jr(t),o=e.length-1;o>=0;o--){var i=e[o];if(i!==wr){var u=n[i];if(void 0===u&&!F(n,i))return!0;var f=t[i],c=f&&f[wr];if(c?c.t!==u:!B(f,u))return!0}}var a=!!n[wr];return e.length!==jr(n).length+(a?0:1)}function e(r){var n=r.k;if(n.length!==r.t.length)return!0;var t=Object.getOwnPropertyDescriptor(n,n.length-1);if(t&&!t.get)return!0;for(var e=0;e<n.length;e++)if(!n.hasOwnProperty(e))return!0;return!1}var o={};!function(r,n){Sr.ES5||(Sr.ES5=n)}(0,{J:function(n,t){var e=Array.isArray(n),o=function(n,t){if(n){for(var e=Array(t.length),o=0;o<t.length;o++)Object.defineProperty(e,""+o,r(o,!0));return e}var i=Or(t);delete i[wr];for(var u=jr(i),f=0;f<u.length;f++){var c=u[f];i[c]=r(c,n||!!i[c].enumerable)}return Object.create(Object.getPrototypeOf(t),i)}(e,n),i={i:e?5:4,A:t?t.A:X(),P:!1,I:!1,R:{},l:t,t:n,k:o,o:null,g:!1,C:!1};return Object.defineProperty(o,wr,{value:i,writable:!0}),o},S:function(r,t,o){o?L(t)&&t[wr].A===r&&n(r.p):(r.u&&function r(n){if(n&&"object"==typeof n){var t=n[wr];if(t){var o=t.t,i=t.k,u=t.R,f=t.i;if(4===f)I(i,(function(n){n!==wr&&(void 0!==o[n]||F(o,n)?u[n]||r(i[n]):(u[n]=!0,ur(t)))})),I(o,(function(r){void 0!==i[r]||F(i,r)||(u[r]=!1,ur(t))}));else if(5===f){if(e(t)&&(ur(t),u.length=!0),i.length<o.length)for(var c=i.length;c<o.length;c++)u[c]=!1;else for(var a=o.length;a<i.length;a++)u[a]=!0;for(var s=Math.min(i.length,o.length),v=0;v<s;v++)i.hasOwnProperty(v)||(u[v]=!0),void 0===u[v]&&r(i[v])}}}}(r.p[0]),n(r.p))},K:function(r){return 4===r.i?t(r):e(r)}})}();class un extends E{constructor(r,n){super((r=>{const n=this.__notifier.subscribe(r);return n&&!n.closed&&r.next(this.value),n})),this.__notifier=new A,this.value=n,r.subscribe((r=>{r!==this.value&&(this.value=r,this.__notifier.next(r))}))}}const fn=(r,n)=>r===n||"function"==typeof n&&r===n.toString();function cn(...r){const n=r.length;return T(1===n?n=>fn(n.type,r[0]):t=>{for(let e=0;e<n;e++)if(fn(t.type,r[e]))return!0;return!1})}const an=en({name:"global",initialState:{error:void 0,isLoading:!1},reducers:{setError:(r,n)=>{r.error=n.payload},setLoading(r,n){r.isLoading=n.payload}}}),{setError:sn,setLoading:vn}=an.actions,ln=an.reducer,dn=en({name:"search",initialState:{showSearchBar:!1,searchText:"",suggestions:[],searchResponse:{nextpage:"",results:[]},suggestionsError:void 0,suggestionsLoading:!1},reducers:{toggleSearchBar:r=>{En(r)},keyPress:(r,n)=>{r.searchText=n.payload},setSuggestions:(r,n)=>{r.suggestions=n.payload},submitSearch:(r,n)=>{n.payload&&(r.searchText=n.payload),r.suggestions=[]},setSearchResult:(r,n)=>{r.searchResponse=n.payload,r.showSearchBar&&En(r)},setSuggestionsError(r,n){r.suggestionsError=n.payload},loadTrending(){},setSuggestionsLoading(r,n){r.suggestionsLoading=n.payload},setSearchText(r,n){r.searchText=n.payload}}}),{keyPress:bn,toggleSearchBar:hn,setSuggestions:yn,submitSearch:mn,setSearchResult:pn,loadTrending:wn,setSuggestionsError:gn,setSuggestionsLoading:jn,setSearchText:On}=dn.actions,Sn=dn.reducer;function En(r){r.showSearchBar=!r.showSearchBar,r.showSearchBar||(r.suggestions=[])}const An=en({name:"video-page",initialState:{shareForm:void 0,currentTimeEnabled:!1,copiedLink:"",commentsView:void 0,comments:void 0,areCommentsLoading:!1},reducers:{setShareForm:(r,n)=>{r.shareForm=n.payload,n.payload||(r.currentTimeEnabled=!1,r.copiedLink="")},setCurrentTimeEnabled(r,n){r.currentTimeEnabled=n.payload,r.copiedLink=""},setCopiedLink(r,n){r.copiedLink=n.payload},setCommentView(r,n){r.commentsView=n.payload,r.commentsView||(r.comments=s())},setComments(r,n){r.comments=n.payload},setAreCommentsLoading(r,n){r.areCommentsLoading=n.payload}}}),{setShareForm:Pn,setCurrentTimeEnabled:xn,setCopiedLink:Cn,setCommentView:Rn,setComments:Tn,setAreCommentsLoading:_n}=An.actions,kn=An.reducer,Ln=function(r={}){const n=new(0,P.constructor)(P.schedulerActionCtor),t=new A;let e;const o=o=>{e=o;const u=new A,f=new A,c=u.asObservable().pipe(p(n)),a=new un(f.pipe(p(n)),e.getState());return t.pipe(w((n=>{const t=n(c,a,r.dependencies);if(!t)throw new TypeError(`Your root Epic "${n.name||"<anonymous>"}" does not return a stream. Double check you're not missing a return statement!`);return t})),i((r=>y(r).pipe(g(n),p(n))))).subscribe(e.dispatch),r=>n=>{const t=r(n);return f.next(e.getState()),u.next(n),t}};return o.run=r=>{t.next(r)},o}(),Nn=function(...r){const n=(...n)=>u(...r.map((r=>{const t=r(...n);if(!t)throw new TypeError(`combineEpics: one of the provided Epics "${r.name||"<anonymous>"}" does not return a stream. Double check you're not missing a return statement!`);return t})));try{Object.defineProperty(n,"name",{value:`combineEpics(${r.map((r=>r.name||"<anonymous>")).join(", ")})`})}catch(r){}return n}(((r,n)=>r.pipe(cn(bn.type),w((()=>n.value.search.searchText)),T((r=>!!r.length)),_(300),j((n=>{const t=O(gn(void 0)),e=O(n).pipe(_(300),j((n=>{const t=f.getApi().getSuggestions(n).pipe(w((r=>yn(r))),c((()=>O(gn({message:"Failed to get Suggestions from the Server. Press Enter to Search"})))),a(r.pipe(cn(mn.type)))),e=r=>O(jn(r));return R(e(!0),t,e(!1))})));return R(t,e)})))),((r,n)=>r.pipe(cn(mn.type),w((()=>n.value.search.searchText)),T((r=>!!r.length)),j((r=>{const n=f.getApi().getSearchResults(r).pipe(w((r=>pn(r))),c((()=>O(sn({message:"Failed to get response from the Server. Please try changing server from settings(in home page)"}))))),t=r=>O(vn(r));return R(t(!0),n,t(!1))})))),(r=>r.pipe(cn(wn),j((()=>{const r=f.getApi().getTrendingVideos().pipe(function(r,n){const{first:o,each:i,with:u=C,scheduler:f=(null!=n?n:t),meta:c=null}=e(r)?{first:r}:"number"==typeof r?{each:r}:r;if(null==o&&null==i)throw new TypeError("No timeout provided.");return l(((r,n)=>{let t,e,a=null,s=0;const v=r=>{e=b(n,f,(()=>{try{t.unsubscribe(),h(u({meta:c,lastValue:a,seen:s})).subscribe(n)}catch(r){n.error(r)}}),r)};t=r.subscribe(d(n,(r=>{null==e||e.unsubscribe(),s++,n.next(a=r),i>0&&v(i)}),void 0,void 0,(()=>{(null==e?void 0:e.closed)||null==e||e.unsubscribe(),a=null}))),!s&&v(null!=o?"number"==typeof o?o:+o-f.now():i)}))}(v),w((r=>pn({results:r,nextpage:""}))),c((()=>O(sn({message:"Failed to get response from the Server. Please try changing server from settings(in home page)"}))))),n=r=>O(vn(r));return R(n(!0),r,n(!1))})))),(r=>r.pipe(cn(Rn.type),j((r=>{const n=r;if(!n.payload)return O(Tn(s()));const{videoId:t,nextpage:e}=n.payload,o=f.getApi().getComments(t,e).pipe(w((r=>Tn(r))),c((()=>O(Tn(s()))))),i=r=>O(_n(r));return R(i(!0),o,i(!1))}))))),In=function(r){var n,t=function(r){return function(r){void 0===r&&(r={});var n=r.thunk,t=void 0===n||n,e=new Qr;return t&&(function(r){return"boolean"==typeof r}(t)?e.push($r):e.push($r.withExtraArgument(t.extraArgument))),e}(r)},e=r||{},o=e.reducer,i=void 0===o?void 0:o,u=e.middleware,f=void 0===u?t():u,c=e.devTools,a=void 0===c||c,s=e.preloadedState,v=void 0===s?void 0:s,l=e.enhancers,d=void 0===l?void 0:l;if("function"==typeof i)n=i;else{if(!function(r){if("object"!=typeof r||null===r)return!1;var n=Object.getPrototypeOf(r);if(null===n)return!0;for(var t=n;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return n===t}(i))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');n=function(r){for(var n=Object.keys(r),t={},e=0;e<n.length;e++){var o=n[e];"function"==typeof r[o]&&(t[o]=r[o])}var i,u=Object.keys(t);try{!function(r){Object.keys(r).forEach((function(n){var t=r[n];if(void 0===t(void 0,{type:Ir.INIT}))throw new Error(kr(12));if(void 0===t(void 0,{type:Ir.PROBE_UNKNOWN_ACTION()}))throw new Error(kr(13))}))}(t)}catch(r){i=r}return function(r,n){if(void 0===r&&(r={}),i)throw i;for(var e=!1,o={},f=0;f<u.length;f++){var c=u[f],a=r[c],s=(0,t[c])(a,n);if(void 0===s)throw new Error(kr(14));o[c]=s,e=e||s!==a}return(e=e||u.length!==Object.keys(r).length)?o:r}}(i)}var b=f;"function"==typeof b&&(b=b(t));var h=Br.apply(void 0,b),y=qr;a&&(y=Hr(Gr({trace:!1},"object"==typeof a&&a)));var m=new Zr(h),p=m;return Array.isArray(d)?p=Wr([h],d):"function"==typeof d&&(p=d(m)),Fr(n,v,y.apply(void 0,p))}({middleware:r=>r().concat(Ln),reducer:{search:Sn,global:ln,videoPage:kn}});Ln.run(Nn);const Mn=y(In);export{In as a,sn as b,mn as c,On as d,vn as e,xn as f,Cn as g,Pn as h,Rn as i,T as j,bn as k,wn as l,Mn as s,hn as t}