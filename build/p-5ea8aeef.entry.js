import{r as s,h as t,H as i}from"./p-27ce4408.js";import{Y as o}from"./p-287c7dfa.js";import{b as n,c as a}from"./p-885c367f.js";import{t as c}from"./p-d48c4d1f.js";import"./p-54677159.js";import"./p-b157210b.js";const r=Intl.NumberFormat("en",{notation:"compact"});let e=class{constructor(t){s(this,t),this.preloadStream=!1,this.handleImageLoad=()=>{this.preloadStream&&!this.stream&&o.getApi().getStream(this.video.videoId).pipe(c(1)).subscribe((s=>{this.stream=s}))}}get subDescription(){const{video:s}=this;return["",...s.views?[r.format(s.views)]:[],s.uploadedDate].join(" â€§ ")}get thumbnail(){var s;return(null===(s=this.stream)||void 0===s?void 0:s.thumbnail)||this.video.thumbnail}render(){const{video:s,subDescription:o}=this;return t(i,null,t("div",{class:"card"},t("img",{class:"thumbnail",src:this.thumbnail}),t("div",{class:"video-desc"},t("img",{class:"uploader-avatar",onLoad:this.handleImageLoad,src:s.uploaderAvatar}),t("span",{class:"avatar-right"},t("h3",null,s.title),t("p",{class:"sub-desc"},t("span",null,s.uploaderName),!!s.uploaderVerified&&t("x-icon",{icon:n}),t("span",null,o))),this.deleteCallback&&t("icon-btn",{class:"delete-btn",icon:a,onClick:s=>{s.stopPropagation()},onBtnClicked:()=>{this.deleteCallback(s)}}))))}};e.style="@keyframes gradient{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}:host{display:block}.delete-btn{--padding:0 10px}";export{e as card_video}