import{r as s,h as t,H as i,g as o}from"./p-27ce4408.js";import{R as e}from"./p-1a687b83.js";import{a,l as r,s as h,t as n,k as c}from"./p-ffdfb00a.js";import{u as p}from"./p-6e49c143.js";import{S as m,a as l}from"./p-c8b7b009.js";import{A as d}from"./p-954d5885.js";import{g as b}from"./p-9a472600.js";import{m as g}from"./p-3b7085e5.js";import{V as f}from"./p-4325abee.js";import"./p-2d1a0235.js";import"./p-6ad5c5be.js";import"./p-9f34646c.js";import"./p-b44dc71b.js";import"./p-fae28420.js";let j=class{constructor(t){s(this,t),this.showSearchbar=!1,this.onSearchSubmit=s=>{new e(this.history).showSearchPage(s)},this.onClickPlaylistBtn=()=>{new e(this.history).showPlaylistPage()}}componentWillLoad(){a.dispatch(r()),h.pipe(g((s=>s.search)),p(this,"disconnectedCallback")).subscribe({next:s=>{this.showSearchbar=s.showSearchBar,this.searchText=s.searchText,this.videos=s.searchResponse.results,this.suggestions=s.suggestions,this.suggestionsError=s.suggestionsError,this.suggestionsLoading=s.suggestionsLoading}})}disconnectedCallback(){}get headerClass(){return this.showSearchbar?"search-active":""}render(){const s=this.showSearchbar;return t(i,null,t("header",{class:this.headerClass+" home"},!this.showSearchbar&&t("button",{class:"playlist-btn",onClick:this.onClickPlaylistBtn},t("x-icon",{icon:b})),!this.showSearchbar&&t("h1",null,d),t(l,{searchText:this.searchText,onCloseClick:()=>a.dispatch(n()),onSearchBtnClick:()=>{const s=this.el.querySelector(".search-input");a.dispatch(n()),setTimeout((()=>{s.focus()}),150)},onSearchSubmit:()=>{this.onSearchSubmit(this.searchText)},showSearchbar:this.showSearchbar,onSearchTextChange:s=>a.dispatch(c(s.target.value))})),!this.showSearchbar&&t("settings-btn",{history:this.history}),s&&t(m,{suggestions:this.suggestions,error:this.suggestionsError,loading:this.suggestionsLoading,onClickSuggesion:s=>{this.onSearchSubmit(s)}}),t(f,{preloadStream:!0,videos:this.videos,isShowingSuggestions:s,onClickVideo:s=>{new e(this.history).showVideoPage(s)}}))}get el(){return o(this)}};j.style="";export{j as trending_page}