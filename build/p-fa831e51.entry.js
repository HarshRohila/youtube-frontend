import{r as s,h as e,H as n}from"./p-27ce4408.js";import{a as t}from"./p-bc5141d2.js";import{k as i,m as r}from"./p-14a93dff.js";import{s as a}from"./p-21f73165.js";import{t as o}from"./p-cdfef660.js";import"./p-6cf4a597.js";import"./p-8cb43504.js";import"./p-4c181b5f.js";import"./p-1ef9e92e.js";let p=class{constructor(e){s(this,e),this.serverInstances=[],this.prefetching=!1}componentWillLoad(){if(this.prefetching)return;a.update({isLoading:!0});const s=()=>{a.update({isLoading:!1})};i((()=>t.get("https://raw.githubusercontent.com/wiki/TeamPiped/Piped-Frontend/Instances.md"))).pipe(r((s=>s.data)),r((s=>{const e=[];var n=0;return s.split("\n").map((s=>{const t=s.split("|");if(t.length>=4){if(n<2)return void n++;e.push({name:t[0].trim(),apiUrl:t[1].trim(),locations:t[2].trim(),hasCdn:"Yes"===t[3].trim()})}})),e}))).pipe(o(1)).subscribe({next:s=>{this.serverInstances=s},error:s,complete:s})}render(){if(!this.prefetching)return e(n,null,e("mobile-view",null,e("div",{class:"settings-page"},e("page-header",{history:this.history}),this.serverInstances.length&&e("div",{class:"server-instances"},e("dropdown-server",{serverInstances:this.serverInstances}),e("h3",null,"Server Instances"),e("h4",{class:"head"},e("span",null,"Name"),e("span",null,"Locations"),e("span",{class:"has-cdn"},"CDN?")),e("ul",null,this.serverInstances.map((s=>e("li",{key:s.apiUrl},e("li-server-instance",{serverInsance:s})))))))))}};p.style="@keyframes gradient{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}:host{display:block}.settings-page{padding:0 10px}.server-instances{height:calc(100vh - 56px);display:flex;flex-direction:column;overflow-y:auto}.server-instances li~li{padding-top:10px}.server-instances .head{padding-left:20px;display:flex;margin-bottom:0}.server-instances .head *{flex:1}.server-instances .head .has-cdn{flex:0.3;text-align:center}.server-instances ul{overflow-y:auto;flex:1;padding-left:20px}";export{p as settings_page}